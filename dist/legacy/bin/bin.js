#!/usr/bin/env node
"use strict";var zn=Object.create;var Xe=Object.defineProperty;var Wn=Object.getOwnPropertyDescriptor;var Hn=Object.getOwnPropertyNames;var Xn=Object.getPrototypeOf,Jn=Object.prototype.hasOwnProperty;var s=(t,e)=>Xe(t,"name",{value:e,configurable:!0});var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Yn=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Hn(e))!Jn.call(t,i)&&i!==r&&Xe(t,i,{get:()=>e[i],enumerable:!(n=Wn(e,i))||n.enumerable});return t};var b=(t,e,r)=>(r=t!=null?zn(Xn(t)):{},Yn(e||!t||!t.__esModule?Xe(r,"default",{value:t,enumerable:!0}):r,t));var jt=C((js,Bt)=>{"use strict";function mi(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}s(mi,"hasKey");function Rt(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}s(Rt,"isNumber");function It(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}s(It,"isConstructorOrProto");Bt.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(g){r.bools[g]=!0});var n={};function i(g){return n[g].some(function(N){return r.bools[N]})}s(i,"aliasIsBoolean"),Object.keys(e.alias||{}).forEach(function(g){n[g]=[].concat(e.alias[g]),n[g].forEach(function(N){n[N]=[g].concat(n[g].filter(function(U){return N!==U}))})}),[].concat(e.string).filter(Boolean).forEach(function(g){r.strings[g]=!0,n[g]&&[].concat(n[g]).forEach(function(N){r.strings[N]=!0})});var o=e.default||{},a={_:[]};function l(g,N){return r.allBools&&/^--[^=]+$/.test(N)||r.strings[g]||r.bools[g]||n[g]}s(l,"argDefined");function c(g,N,U){for(var w=g,we=0;we<N.length-1;we++){var L=N[we];if(It(w,L))return;w[L]===void 0&&(w[L]={}),(w[L]===Object.prototype||w[L]===Number.prototype||w[L]===String.prototype)&&(w[L]={}),w[L]===Array.prototype&&(w[L]=[]),w=w[L]}var G=N[N.length-1];It(w,G)||((w===Object.prototype||w===Number.prototype||w===String.prototype)&&(w={}),w===Array.prototype&&(w=[]),w[G]===void 0||r.bools[G]||typeof w[G]=="boolean"?w[G]=U:Array.isArray(w[G])?w[G].push(U):w[G]=[w[G],U])}s(c,"setKey");function u(g,N,U){if(!(U&&r.unknownFn&&!l(g,U)&&r.unknownFn(U)===!1)){var w=!r.strings[g]&&Rt(N)?Number(N):N;c(a,g.split("."),w),(n[g]||[]).forEach(function(we){c(a,we.split("."),w)})}}s(u,"setArg"),Object.keys(r.bools).forEach(function(g){u(g,o[g]===void 0?!1:o[g])});var d=[];t.indexOf("--")!==-1&&(d=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var m=0;m<t.length;m++){var h=t[m],v,O;if(/^--.+=/.test(h)){var te=h.match(/^--([^=]+)=([\s\S]*)$/);v=te[1];var He=te[2];r.bools[v]&&(He=He!=="false"),u(v,He,h)}else if(/^--no-.+/.test(h))v=h.match(/^--no-(.+)/)[1],u(v,!1,h);else if(/^--.+/.test(h))v=h.match(/^--(.+)/)[1],O=t[m+1],O!==void 0&&!/^(-|--)[^-]/.test(O)&&!r.bools[v]&&!r.allBools&&(!n[v]||!i(v))?(u(v,O,h),m+=1):/^(true|false)$/.test(O)?(u(v,O==="true",h),m+=1):u(v,r.strings[v]?"":!0,h);else if(/^-[^-]+/.test(h)){for(var I=h.slice(1,-1).split(""),Ae=!1,A=0;A<I.length;A++){if(O=h.slice(A+2),O==="-"){u(I[A],O,h);continue}if(/[A-Za-z]/.test(I[A])&&O[0]==="="){u(I[A],O.slice(1),h),Ae=!0;break}if(/[A-Za-z]/.test(I[A])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(O)){u(I[A],O,h),Ae=!0;break}if(I[A+1]&&I[A+1].match(/\W/)){u(I[A],h.slice(A+2),h),Ae=!0;break}else u(I[A],r.strings[I[A]]?"":!0,h)}v=h.slice(-1)[0],!Ae&&v!=="-"&&(t[m+1]&&!/^(-|--)[^-]/.test(t[m+1])&&!r.bools[v]&&(!n[v]||!i(v))?(u(v,t[m+1],h),m+=1):t[m+1]&&/^(true|false)$/.test(t[m+1])?(u(v,t[m+1]==="true",h),m+=1):u(v,r.strings[v]?"":!0,h))}else if((!r.unknownFn||r.unknownFn(h)!==!1)&&a._.push(r.strings._||!Rt(h)?h:Number(h)),e.stopEarly){a._.push.apply(a._,t.slice(m+1));break}}return Object.keys(o).forEach(function(g){mi(a,g.split("."))||(c(a,g.split("."),o[g]),(n[g]||[]).forEach(function(N){c(a,N.split("."),o[g])}))}),e["--"]?a["--"]=d.slice():d.forEach(function(g){a._.push(g)}),a}});var qr=C((Cf,Vr)=>{"use strict";Vr.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var at=C(($f,Gr)=>{"use strict";var _e=qr(),Ur={};for(let t of Object.keys(_e))Ur[_e[t]]=t;var p={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Gr.exports=p;for(let t of Object.keys(p)){if(!("channels"in p[t]))throw new Error("missing channels property: "+t);if(!("labels"in p[t]))throw new Error("missing channel labels property: "+t);if(p[t].labels.length!==p[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=p[t];delete p[t].channels,delete p[t].labels,Object.defineProperty(p[t],"channels",{value:e}),Object.defineProperty(p[t],"labels",{value:r})}p.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=o-i,l,c;o===i?l=0:e===o?l=(r-n)/a:r===o?l=2+(n-e)/a:n===o&&(l=4+(e-r)/a),l=Math.min(l*60,360),l<0&&(l+=360);let u=(i+o)/2;return o===i?c=0:u<=.5?c=a/(o+i):c=a/(2-o-i),[l,c*100,u*100]};p.rgb.hsv=function(t){let e,r,n,i,o,a=t[0]/255,l=t[1]/255,c=t[2]/255,u=Math.max(a,l,c),d=u-Math.min(a,l,c),m=s(function(h){return(u-h)/6/d+1/2},"diffc");return d===0?(i=0,o=0):(o=d/u,e=m(a),r=m(l),n=m(c),a===u?i=n-r:l===u?i=1/3+e-n:c===u&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,u*100]};p.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=p.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};p.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),o=(1-e-i)/(1-i)||0,a=(1-r-i)/(1-i)||0,l=(1-n-i)/(1-i)||0;return[o*100,a*100,l*100,i*100]};function Bi(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}s(Bi,"comparativeDistance");p.rgb.keyword=function(t){let e=Ur[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(_e)){let o=_e[i],a=Bi(t,o);a<r&&(r=a,n=i)}return n};p.keyword.rgb=function(t){return _e[t]};p.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,o=e*.2126+r*.7152+n*.0722,a=e*.0193+r*.1192+n*.9505;return[i*100,o*100,a*100]};p.rgb.lab=function(t){let e=p.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,a=500*(r-n),l=200*(n-i);return[o,a,l]};p.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o,a;if(r===0)return a=n*255,[a,a,a];n<.5?i=n*(1+r):i=n+r-n*r;let l=2*n-i,c=[0,0,0];for(let u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?a=l+(i-l)*6*o:2*o<1?a=i:3*o<2?a=l+(i-l)*(2/3-o)*6:a=l,c[u]=a*255;return c};p.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let a=(n+r)/2,l=n===0?2*i/(o+i):2*r/(n+r);return[e,l*100,a*100]};p.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*n*(1-r),l=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,a];case 1:return[l,n,a];case 2:return[a,n,c];case 3:return[a,l,n];case 4:return[c,a,n];case 5:return[n,a,l]}};p.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,a;a=(2-r)*n;let l=(2-r)*i;return o=r*i,o/=l<=1?l:2-l,o=o||0,a/=2,[e,o*100,a*100]};p.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let a=Math.floor(6*e),l=1-n;o=6*e-a,a&1&&(o=1-o);let c=r+o*(l-r),u,d,m;switch(a){default:case 6:case 0:u=l,d=c,m=r;break;case 1:u=c,d=l,m=r;break;case 2:u=r,d=l,m=c;break;case 3:u=r,d=c,m=l;break;case 4:u=c,d=r,m=l;break;case 5:u=l,d=r,m=c;break}return[u*255,d*255,m*255]};p.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,r*(1-i)+i),l=1-Math.min(1,n*(1-i)+i);return[o*255,a*255,l*255]};p.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,a;return i=e*3.2406+r*-1.5372+n*-.4986,o=e*-.9689+r*1.8758+n*.0415,a=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[i*255,o*255,a*255]};p.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(e-r),a=200*(r-n);return[i,o,a]};p.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,o,a;o=(e+16)/116,i=r/500+o,a=o-n/200;let l=o**3,c=i**3,u=a**3;return o=l>.008856?l:(o-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,o*=100,a*=108.883,[i,o,a]};p.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(r*r+n*n);return[e,a,i]};p.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,o=r*Math.cos(i),a=r*Math.sin(i);return[e,o,a]};p.rgb.ansi16=function(t,e=null){let[r,n,i]=t,o=e===null?p.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(a+=60),a};p.hsv.ansi16=function(t){return p.rgb.ansi16(p.hsv.rgb(t),t[2])};p.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};p.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};p.ansi256.rgb=function(t){if(t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};p.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};p.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(l=>l+l).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,a=n&255;return[i,o,a]};p.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),a=i-o,l,c;return a<1?l=o/(1-a):l=0,a<=0?c=0:i===e?c=(r-n)/a%6:i===r?c=2+(n-e)/a:c=4+(e-r)/a,c/=6,c%=1,[c*360,a*100,l*100]};p.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};p.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};p.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,a=o%1,l=1-a,c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};p.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};p.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};p.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};p.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};p.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};p.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};p.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};p.gray.hsl=function(t){return[0,0,t[0]]};p.gray.hsv=p.gray.hsl;p.gray.hwb=function(t){return[0,100,t[0]]};p.gray.cmyk=function(t){return[0,0,0,t[0]]};p.gray.lab=function(t){return[t[0],0,0]};p.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};p.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Wr=C((If,zr)=>{"use strict";var Fe=at();function ji(){let t={},e=Object.keys(Fe);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}s(ji,"buildGraph");function Li(t){let e=ji(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(Fe[n]);for(let o=i.length,a=0;a<o;a++){let l=i[a],c=e[l];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,r.unshift(l))}}return e}s(Li,"deriveBFS");function Fi(t,e){return function(r){return e(t(r))}}s(Fi,"link");function Di(t,e){let r=[e[t].parent,t],n=Fe[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=Fi(Fe[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}s(Di,"wrapConversion");zr.exports=function(t){let e=Li(t),r={},n=Object.keys(e);for(let i=n.length,o=0;o<i;o++){let a=n[o];e[a].parent!==null&&(r[a]=Di(a,e))}return r}});var Xr=C((jf,Hr)=>{"use strict";var lt=at(),Vi=Wr(),pe={},qi=Object.keys(lt);function Ui(t){let e=s(function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}s(Ui,"wrapRaw");function Gi(t){let e=s(function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let o=i.length,a=0;a<o;a++)i[a]=Math.round(i[a]);return i},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}s(Gi,"wrapRounded");qi.forEach(t=>{pe[t]={},Object.defineProperty(pe[t],"channels",{value:lt[t].channels}),Object.defineProperty(pe[t],"labels",{value:lt[t].labels});let e=Vi(t);Object.keys(e).forEach(n=>{let i=e[n];pe[t][n]=Gi(i),pe[t][n].raw=Ui(i)})});Hr.exports=pe});var en=C((Ff,Qr)=>{"use strict";var Jr=s((t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,"wrapAnsi16"),Yr=s((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},"wrapAnsi256"),Kr=s((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},"wrapAnsi16m"),De=s(t=>t,"ansi2ansi"),Zr=s((t,e,r)=>[t,e,r],"rgb2rgb"),me=s((t,e,r)=>{Object.defineProperty(t,e,{get:s(()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},"get"),enumerable:!0,configurable:!0})},"setLazyProperty"),ct,de=s((t,e,r,n)=>{ct===void 0&&(ct=Xr());let i=n?10:0,o={};for(let[a,l]of Object.entries(ct)){let c=a==="ansi16"?"ansi":a;a===e?o[c]=t(r,i):typeof l=="object"&&(o[c]=t(l[e],i))}return o},"makeDynamicStyles");function zi(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,o]of Object.entries(n))e[i]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},n[i]=e[i],t.set(o[0],o[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",me(e.color,"ansi",()=>de(Jr,"ansi16",De,!1)),me(e.color,"ansi256",()=>de(Yr,"ansi256",De,!1)),me(e.color,"ansi16m",()=>de(Kr,"rgb",Zr,!1)),me(e.bgColor,"ansi",()=>de(Jr,"ansi16",De,!0)),me(e.bgColor,"ansi256",()=>de(Yr,"ansi256",De,!0)),me(e.bgColor,"ansi16m",()=>de(Kr,"rgb",Zr,!0)),e}s(zi,"assembleStyles");Object.defineProperty(Qr,"exports",{enumerable:!0,get:zi})});var rn=C((Vf,tn)=>{"use strict";tn.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var on=C((qf,sn)=>{"use strict";var Wi=require("os"),nn=require("tty"),R=rn(),{env:k}=process,Q;R("no-color")||R("no-colors")||R("color=false")||R("color=never")?Q=0:(R("color")||R("colors")||R("color=true")||R("color=always"))&&(Q=1);"FORCE_COLOR"in k&&(k.FORCE_COLOR==="true"?Q=1:k.FORCE_COLOR==="false"?Q=0:Q=k.FORCE_COLOR.length===0?1:Math.min(parseInt(k.FORCE_COLOR,10),3));function ut(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}s(ut,"translateLevel");function pt(t,e){if(Q===0)return 0;if(R("color=16m")||R("color=full")||R("color=truecolor"))return 3;if(R("color=256"))return 2;if(t&&!e&&Q===void 0)return 0;let r=Q||0;if(k.TERM==="dumb")return r;if(process.platform==="win32"){let n=Wi.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in k)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in k)||k.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in k)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(k.TEAMCITY_VERSION)?1:0;if(k.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in k){let n=parseInt((k.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(k.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(k.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(k.TERM)||"COLORTERM"in k?1:r}s(pt,"supportsColor");function Hi(t){let e=pt(t,t&&t.isTTY);return ut(e)}s(Hi,"getSupportLevel");sn.exports={supportsColor:Hi,stdout:ut(pt(!0,nn.isatty(1))),stderr:ut(pt(!0,nn.isatty(2)))}});var ln=C((Gf,an)=>{"use strict";var Xi=s((t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,o=0,a="";do a+=t.substr(o,n-o)+e+r,o=n+i,n=t.indexOf(e,o);while(n!==-1);return a+=t.substr(o),a},"stringReplaceAll"),Ji=s((t,e,r,n)=>{let i=0,o="";do{let a=t[n-1]==="\r";o+=t.substr(i,(a?n-1:n)-i)+e+(a?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return o+=t.substr(i),o},"stringEncaseCRLFWithFirstIndex");an.exports={stringReplaceAll:Xi,stringEncaseCRLFWithFirstIndex:Ji}});var dn=C((Wf,mn)=>{"use strict";var Yi=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,cn=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Ki=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Zi=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Qi=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function pn(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):Qi.get(t)||t}s(pn,"unescape");function es(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let o of n){let a=Number(o);if(!Number.isNaN(a))r.push(a);else if(i=o.match(Ki))r.push(i[2].replace(Zi,(l,c,u)=>c?pn(c):u));else throw new Error(`Invalid Chalk template style argument: ${o} (in style '${t}')`)}return r}s(es,"parseArguments");function ts(t){cn.lastIndex=0;let e=[],r;for(;(r=cn.exec(t))!==null;){let n=r[1];if(r[2]){let i=es(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}s(ts,"parseStyle");function un(t,e){let r={};for(let i of e)for(let o of i.styles)r[o[0]]=i.inverse?null:o.slice(1);let n=t;for(let[i,o]of Object.entries(r))if(Array.isArray(o)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=o.length>0?n[i](...o):n[i]}return n}s(un,"buildStyle");mn.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(Yi,(o,a,l,c,u,d)=>{if(a)i.push(pn(a));else if(c){let m=i.join("");i=[],n.push(r.length===0?m:un(t,r)(m)),r.push({inverse:l,styles:ts(c)})}else if(u){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(un(t,r)(i.join(""))),i=[],r.pop()}else i.push(d)}),n.push(i.join("")),r.length>0){let o=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(o)}return n.join("")}});var se=C((Xf,vn)=>{"use strict";var Ne=en(),{stdout:dt,stderr:ft}=on(),{stringReplaceAll:rs,stringEncaseCRLFWithFirstIndex:ns}=ln(),{isArray:Ve}=Array,hn=["ansi","ansi","ansi256","ansi16m"],fe=Object.create(null),is=s((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=dt?dt.level:0;t.level=e.level===void 0?r:e.level},"applyOptions"),ht=class{static{s(this,"ChalkClass")}constructor(e){return gn(e)}},gn=s(t=>{let e={};return is(e,t),e.template=(...r)=>bn(e.template,...r),Object.setPrototypeOf(e,qe.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=ht,e.template},"chalkFactory");function qe(t){return gn(t)}s(qe,"Chalk");for(let[t,e]of Object.entries(Ne))fe[t]={get(){let r=Ue(this,gt(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};fe.visible={get(){let t=Ue(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var yn=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of yn)fe[t]={get(){let{level:e}=this;return function(...r){let n=gt(Ne.color[hn[e]][t](...r),Ne.color.close,this._styler);return Ue(this,n,this._isEmpty)}}};for(let t of yn){let e="bg"+t[0].toUpperCase()+t.slice(1);fe[e]={get(){let{level:r}=this;return function(...n){let i=gt(Ne.bgColor[hn[r]][t](...n),Ne.bgColor.close,this._styler);return Ue(this,i,this._isEmpty)}}}}var ss=Object.defineProperties(()=>{},{...fe,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),gt=s((t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},"createStyler"),Ue=s((t,e,r)=>{let n=s((...i)=>Ve(i[0])&&Ve(i[0].raw)?fn(n,bn(n,...i)):fn(n,i.length===1?""+i[0]:i.join(" ")),"builder");return Object.setPrototypeOf(n,ss),n._generator=t,n._styler=e,n._isEmpty=r,n},"createBuilder"),fn=s((t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=rs(e,r.close,r.open),r=r.parent;let o=e.indexOf(`
`);return o!==-1&&(e=ns(e,i,n,o)),n+e+i},"applyStyle"),mt,bn=s((t,...e)=>{let[r]=e;if(!Ve(r)||!Ve(r.raw))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let o=1;o<r.length;o++)i.push(String(n[o-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[o]));return mt===void 0&&(mt=dn()),mt(t,i.join(""))},"chalkTag");Object.defineProperties(qe.prototype,fe);var Ge=qe();Ge.supportsColor=dt;Ge.stderr=qe({level:ft?ft.level:0});Ge.stderr.supportsColor=ft;vn.exports=Ge});var Tn=C((Yf,wn)=>{"use strict";wn.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var On=C((Kf,En)=>{"use strict";var os=Tn();En.exports=t=>typeof t=="string"?t.replace(os(),""):t});var In=C(Rn=>{"use strict";var Tt=class t{static{s(this,"t")}constructor(e){this.compare=e,this.heapArray=[],this._limit=0}static getChildrenIndexOf(e){return[2*e+1,2*e+2]}static getParentIndexOf(e){if(e<=0)return-1;let r=e%2?1:2;return Math.floor((e-r)/2)}push(e){return this._sortNodeUp(this.heapArray.push(e)-1),!0}length(){return this.heapArray.length}peek(){return this.heapArray[0]}pop(){let e=this.heapArray.pop();return this.length()>0&&e!==void 0?this.replace(e):e}replace(e){let r=this.heapArray[0];return this.heapArray[0]=e,this._sortNodeDown(0),r}size(){return this.length()}_moveNode(e,r){[this.heapArray[e],this.heapArray[r]]=[this.heapArray[r],this.heapArray[e]]}_sortNodeDown(e){let r=e<this.heapArray.length-1,n=this.heapArray[e],i=s((o,a)=>(this.heapArray.length>a&&this.compare(this.heapArray[a],this.heapArray[o])<0&&(o=a),o),"s");for(;r;){let o=t.getChildrenIndexOf(e),a=o.reduce(i,o[0]),l=this.heapArray[a];l!==void 0&&this.compare(n,l)>0?(this._moveNode(e,a),e=a):r=!1}}_sortNodeUp(e){let r=e>0;for(;r;){let n=t.getParentIndexOf(e);n>=0&&this.compare(this.heapArray[n],this.heapArray[e])>0?(this._moveNode(e,n),e=n):r=!1}}};function ls(t,e){return t.prio-e.prio||t.counter-e.counter}s(ls,"e");Rn.Queue=class{constructor(t,e){this.maxConcurrent=t||1,this.minCycle=e||0,this.queueRunning=new Map,this.queueWaiting=new Tt(ls),this.lastRun=0,this.nextTimer=null,this.counter=0}tryRun(){for(;this.queueWaiting.size()>0&&this.queueRunning.size<this.maxConcurrent;){if(Date.now()-this.lastRun<this.minCycle)return void(this.nextTimer===null&&(this.nextTimer=new Promise(e=>setTimeout(()=>{this.nextTimer=null,this.tryRun(),e()},this.minCycle-Date.now()+this.lastRun))));let t=this.queueWaiting.pop();if(t!==void 0){let e,r={wait:new Promise(i=>{e=i}),signal:e},n={hash:t.hash,prio:t.prio,finish:r};if(this.queueRunning.has(t.hash))throw new Error("async-await-queue: duplicate hash "+t.hash);this.queueRunning.set(t.hash,n),this.lastRun=Date.now(),t.start.signal()}}}end(t){let e=this.queueRunning.get(t);if(e===void 0)throw new Error("async-await-queue: queue desync for "+t);this.queueRunning.delete(t),e.finish.signal(),this.tryRun()}async wait(t,e){let r=e??0,n,i=new Promise(a=>{n=a}),o={hash:t,prio:r,start:{signal:n,wait:i},counter:this.counter++};this.queueWaiting.push(o),this.tryRun(),await i,this.lastRun=Date.now()}run(t,e){let r=e??0,n=Symbol();return this.wait(n,r).then(t).finally(()=>{this.end(n)})}stat(){return{running:this.queueRunning.size,waiting:this.queueWaiting.size(),last:this.lastRun}}async flush(t){for(;this.queueRunning.size>0||this.queueWaiting.size()>0;){let e=this.queueWaiting.peek();if(e&&await e.start.wait,t!==void 0&&this.queueWaiting.size()<t)return;this.queueRunning.size>0&&await this.queueRunning.values().next().value.finish.wait}}}});var Kn=Object.defineProperty,Zn=s((t,e,r)=>e in t?Kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Je=s((t,e,r)=>(Zn(t,typeof e!="symbol"?e+"":e,r),r),"__publicField");function Qn(){return{read(){let t="",e=process.stdin,r=e.readableEncoding??void 0;e.setEncoding("utf8");let n=s(i=>{t+=i},"onData");return e.on("data",n),new Promise(i=>{e.once("end",()=>{e.removeListener("data",n),e.setEncoding(r),i(t)})})},getIterator(){let t=!1,e=[],r=[],n=process.stdin,i=s(a=>{let l=e.shift();l?l(a):r.push(a)},"onData"),o=s(()=>{t=!0,n.removeListener("data",i),e.splice(0,e.length).forEach(a=>a(r.shift()))},"onEnd");return n.on("data",i),n.once("end",o),{done(){return t&&!r.length},next(){return r.length?Promise.resolve(r.shift()):t?Promise.resolve("done"):new Promise(a=>{e.push(l=>a(l||"done"))})}}}}}s(Qn,"defaultStdinReader");function ei(){return process.argv.slice(2)}s(ei,"defaultArgGetter");function ti(t,e){switch(t){case"info":console.log(...e);break;case"error":console.error(...e);break;case"warning":console.warn(...e);break}}s(ti,"defaultLogger");var x=class{static{s(this,"ClifyGlobals")}static setArgGetter(t){this.argGetter=t}static setLogger(t){this.logger=t}static setStdinReader(t){this.getStdinReader=t}static getArgs(){return this.argGetter()}static err(...t){this.logger("error",t)}static log(...t){this.logger("info",t)}static warn(...t){this.logger("warning",t)}static getStdin(){return this.getStdinReader()}};Je(x,"getStdinReader",Qn);Je(x,"argGetter",ei);Je(x,"logger",ti);var _t=x;var ri=Object.defineProperty,ni=s((t,e,r)=>e in t?ri(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),ii=s((t,e,r)=>(ni(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),Te=class extends Error{static{s(this,"OptionError")}constructor(t,e){super(t),this.optionName=e,ii(this,"customMessage")}toPrintable(){return`${this.customMessage??this.message}: ${this.optionName}`}},W=class extends Te{static{s(this,"InvalidOptionError")}constructor(t,e,r,n){super(r?`Invalid option, expected '${r}', but received '${e}'`:"Invalid option",t),this.received=e,this.expected=r,this.customMessage=n,this.name="InvalidOptionError"}},Nt=class extends Te{static{s(this,"UnspecifiedOptionError")}constructor(t){super("Unspecified option",t),this.optionName=t,this.name="UnspecifiedOptionError"}};function Ee(t,e,r){if(Array.isArray(e)){if(!Array.isArray(t)){let i=Ee(t,e[0],r);return typeof i=="object"?i:[i]}let n=[];for(let i of t){let o=Ee(i,e[0],r);if(typeof o=="object")return o;n.push(o)}return n}else{if(Array.isArray(t))return new W(r,"single value","multiple");switch(e){case"string":return String(t);case"boolean":return typeof t!="boolean"?new W(r,"boolean",typeof t):t;case"number":return typeof t!="number"||Number.isNaN(t)?new W(r,"number",typeof t):t;case"int":return typeof t!="number"||Number.isNaN(t)?new W(r,"integer",typeof t):Number.isInteger(t)?t:new W(r,"integer","float");case"unknown":return t}}throw Error("unreachable")}s(Ee,"convertOptionValue");var si=Object.defineProperty,oi=s((t,e,r)=>e in t?si(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Ce=s((t,e,r)=>(oi(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),Ye=Symbol("default_category"),ai=class Pt{static{s(this,"_Opt")}constructor(e){this.command=e,Ce(this,"initParams"),Ce(this,"_value"),Ce(this,"_isSet",!1),Ce(this,"_default"),this.initParams=this.getInitParams()}static define(e){return class extends Pt{getInitParams(){return e}}}get value(){return this._isSet?this._value:this._default}get isSet(){return this._isSet}setDefault(e){return this._default=e,this}init(){let e=this.getName(),r=this.command.getParsedArgs();if(this._default=this.initParams.default,this.initParams.name in r){let n=Ee(r[this.initParams.name],this.initParams.type,e);if(n instanceof Te)return n;this._isSet=!0,this._value=n}else if(this.initParams.char!=null&&this.initParams.char in r){this._isSet=!0;let n=Ee(r[this.initParams.char],this.initParams.type,e);if(n instanceof Te)return n;this._isSet=!0,this._value=n}else if(this.initParams.required&&this._default==null)return new Nt(e);return this.validate()}validate(){if(this.initParams.validate&&this._isSet){let e=this.initParams.validate(this.value);return e==="ok"?null:new W(this.getName(),String(this.value),e.expected,e.message)}return null}nameMatches(e){return this.initParams.name===e||e.length===1&&this.initParams.char===e}getName(){return this.initParams.char!=null?`--${this.initParams.name}, -${this.initParams.char}`:`--${this.initParams.name}`}getNameWithType(){if(this.initParams.type==="boolean")return this.initParams.char!=null?`--${this.initParams.name}, -${this.initParams.char}`:`--${this.initParams.name}`;let e;return Array.isArray(this.initParams.type)?e="..."+this.initParams.type[0]:e=this.initParams.type,this.initParams.char!=null?`--${this.initParams.name}, -${this.initParams.char} <${e}>`:`--${this.initParams.name} <${e}>`}getDescription(){return this.initParams.description||""}getCategory(){return this.initParams.category==null?Ye:this.initParams.category}};function $e(t){return ai.define(t)}s($e,"defineOption");var li=Object.defineProperty,ci=s((t,e,r)=>e in t?li(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Re=s((t,e,r)=>(ci(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),St=class{static{s(this,"CmdInputBase")}constructor(t,e={}){this.command=t,this.options=e,Re(this,"argumentInput",null),Re(this,"stdinInput",null),Re(this,"_source",null)}setOptions(t){this.options=t}setArgumentInput(t){this.argumentInput=t,t!=null&&(this._source="argument")}async prepare(){return!(this.argumentInput!=null||this.options.stdin===!1||this.options.stdin==="non-tty-only"&&process.stdin.isTTY)}validate(){return this.argumentInput!=null||this.stdinInput!=null}get(){}getName(){return this.options.name}get source(){return this._source}},kt=class extends St{static{s(this,"CmdInput")}async prepare(){if(await super.prepare()){let t=x.getStdin();return this._source="stdin",this.stdinInput=await t.read(),!0}return!1}get(){return this.argumentInput??this.stdinInput??null}},Mt=class extends St{static{s(this,"CmdInputStream")}constructor(){super(...arguments),Re(this,"stdinIter",null)}async prepare(){if(await super.prepare()){let t=x.getStdin();return this._source="stdin",this.stdinIter=await t.getIterator(),!0}return!1}get(){return this.argumentInput??this.stdinIter??null}};var ui=Object.defineProperty,pi=s((t,e,r)=>e in t?ui(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),ae=s((t,e,r)=>(pi(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),At=s((t,e)=>t.localeCompare(e),"alphasort"),Ct=class $t{static{s(this,"_Cmd")}constructor(e,r){this.cmdName=e,this.parentCommand=r,ae(this,"ownOptions",[]),ae(this,"ownAction"),ae(this,"subCommands",[]),ae(this,"parsedArgs"),ae(this,"ownInput"),ae(this,"description","")}command(e,r){let n=new $t(e,this);return n.ownAction=r(n),this.subCommands.push(n),n}option(e){let r=new e(this);return this.ownOptions.push(r),r}input(e){return this.ownInput!=null?(e!=null&&this.ownInput.setOptions(e),this.ownInput):this.ownInput=new kt(this,e)}inputStream(e){return this.ownInput!=null?(e!=null&&this.ownInput.setOptions(e),this.ownInput):this.ownInput=new Mt(this,e)}setDescription(e){this.description=e}findSubcommand(e){if(e.length===0)return[this,null];let[r]=e,n=this.subCommands.find(i=>i.cmdName===r);return n==null?this.ownInput&&e.length===1?[this,e[0]]:[null,null]:n.findSubcommand(e.slice(1))}getName(){let e=this.parentCommand?.getName();return e!=null?e+" "+this.cmdName:this.cmdName}printHelp(){let e=x.log.bind(x),r=`Usage: ${this.getName()}`,n=0;this.subCommands.length>0&&(n|=1),this.ownInput&&(n|=2),this.ownAction&&(n|=4);let i=this.ownInput?.getName()??"INPUT";switch(n){case 0:case 4:break;case 2:case 6:r+=` ${i}`;break;case 1:r+=" COMMAND";break;case 5:r+=" COMMAND?";break;case 3:r+=` COMMAND|${i}`;break;case 7:r+=` COMMAND|${i}?`;break}this.ownOptions.length>0&&(r+=" [...OPTIONS]");let o=[];if(this.subCommands.length>0){let c=this.subCommands.map(d=>`  ${d.cmdName}`),u=c.reduce((d,m)=>d.length>m.length?d:m,"").length;o=c.map((d,m)=>d.padEnd(u+4)+this.subCommands[m].description).sort(At)}let a=[],l=[];if(this.ownOptions.length>0){let c=Object.groupBy(this.ownOptions,u=>u.getCategory());for(let u of Reflect.ownKeys(c)){let d=c[u],m=d.map(O=>`  ${O.getNameWithType()}`),h=m.reduce((O,te)=>O.length>te.length?O:te,"").length,v=m.map((O,te)=>O.padEnd(h+4)+d[te].getDescription()).sort(At);u===Ye?a=v:l.push([u,v])}}if(e(r),this.description&&(e(""),e(this.description)),o.length>0){e(""),e("Commands:");for(let c of o)e(c)}if(a.length>0||l.length>0){e(""),e("Options:");for(let c of a)e(c);for(let[c,u]of l){e(""),e(c+":");for(let d of u)e(d)}}}printUnknownArgsMsg(e){let r=x.err.bind(x);r("Unknown options:"),e.forEach(n=>{n.length===1?r(`  -${n}`):r(`  --${n}`)})}printArgumentErrors(e){let r=x.err.bind(x);r("Invalid options:"),e.forEach(n=>{r(`  ${n.toPrintable()}`)})}async prepare(){if("help"in this.parsedArgs)return this.printHelp(),"skip";let e=Object.keys(this.parsedArgs).filter(i=>i!=="_"&&i!=="__"),r=[];for(let i=0;i<e.length;i++){let o=e[i];this.ownOptions.some(a=>a.nameMatches(o))||r.push(o)}if(r.length>0)return this.printUnknownArgsMsg(r),"fail";let n=[];for(let i=0;i<this.ownOptions.length;i++){let o=this.ownOptions[i].init();o!=null&&n.push(o)}return n.length>0?(this.printArgumentErrors(n),"fail"):this.ownInput?(await this.ownInput.prepare(),this.ownInput.validate()?"ok":"fail"):"ok"}runAction(){return this.ownAction==null?(x.warn("Nothing to do."),Promise.resolve(new Error("Nothing to do."))):this.ownAction()}getParsedArgs(){return this.parsedArgs}async start(e,r){this.parsedArgs=e,this.ownInput?.setArgumentInput(r);let n=await this.prepare();if(n==="ok")return this.runAction();if(n==="fail")return Promise.resolve(new Error("Command failed"))}};var Lt=b(jt(),1);var Ft=class{static{s(this,"ClifyProgram")}constructor(t){this.mainCommand=t}init(t,e){return t!=null?{_:t.split(" "),...e}:(0,Lt.default)(x.getArgs())}findCommand(t){return this.mainCommand.findSubcommand(t)}run(t,e){let r=this.init(t,e);if(r.version)return this.mainCommand.printVersionInfo(),Promise.resolve();let[n,i]=this.findCommand(r._);if(n==null){let o=`Unknown command: ${r._.join(" ")}`;return x.err(o),Promise.resolve(new Error(o))}return n.start(r,i)}};function Dt(t,e){if(t instanceof Promise)throw new Error(`'${e}' cannot be asynchronous.`)}s(Dt,"assertNotAsync");var di=Object.defineProperty,fi=s((t,e,r)=>e in t?di(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Vt=s((t,e,r)=>(fi(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),hi=class extends Ct{static{s(this,"MainCmd")}constructor(){super(...arguments),Vt(this,"version"),Vt(this,"programName")}printVersionInfo(){let t="";this.programName!=null&&(t=`${this.programName} `),this.version!=null&&(t+=`${this.version} `),x.log(t)}setVersion(t){this.version=t}setName(t){this.programName=t}main(t){this.ownAction=t(this)}getName(){return this.programName??""}};function qt(t){let e=new hi("");return Dt(t(e),"configureCallback"),new Ft(e)}s(qt,"configure");var gi={Clify:_t,configure:qt,defineOption:$e},Ut=gi;var Gt=$e({char:"p",name:"package-manager",type:"string",required:!0});var ne=b(require("fs/promises")),Be=b(require("path"));var it=b(require("fs/promises")),kr=b(require("path"));var F=s(t=>typeof t=="object"&&!(Ke in t),"isFieldDescriptor");var yi=Object.defineProperty,zt=Object.getOwnPropertySymbols,bi=Object.prototype.hasOwnProperty,vi=Object.prototype.propertyIsEnumerable,Wt=s((t,e,r)=>e in t?yi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Ze=s((t,e)=>{for(var r in e||(e={}))bi.call(e,r)&&Wt(t,r,e[r]);if(zt)for(var r of zt(e))vi.call(e,r)&&Wt(t,r,e[r]);return t},"__spreadValues"),Ke=Symbol(),P=Symbol("metadata"),B={Unknown:"unknown",String:"string",Number:"number",Int:"integer",Boolean:"boolean",Symbol:"symbol",Function:"function",Null:"null",Undefined:"undefined",StringNumeral:"stringnumeral",StringInt:"stringinteger"},Ht,Xt,S=class{static{s(this,"BaseDataType")}constructor(){this[Ht]={},this[Xt]=!0}static getMetadata(t){return Ze({},t[P])}static getOriginalMetadata(t){return t[P]}copy(){let t=Object.getPrototypeOf(this),e=Object.create(t);return Object.assign(e,this),e[P]=Ze({},this[P]),e}setDescription(t){return this[P].description=t,this}setTitle(t){return this[P].title=t,this}setFormat(t){return this[P].format=t,this}setExtra(t){return this[P].extra=t,this}};Ht=P,Xt=Ke;var j=class extends S{static{s(this,"SimpleDataType")}constructor(t){super(),this.simpleType=t,this.kind="simple",Object.freeze(this)}_acceptVisitor(t){return t.visit(this)}},re=class extends S{static{s(this,"RecordOf")}constructor(t){super(),this.recordOf=t,this.kind="record",this.keys=Object.keys(this.recordOf);for(let e=0;e<this.keys.length;e++){let r=this.keys[e],n=this.recordOf[r];F(n)&&Object.freeze(n)}Object.freeze(this.keys),Object.freeze(this.recordOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.keys.length;r++){let n=this.keys[r],i=this.recordOf[n],o=F(i)?Ze({required:!0},i):{type:i,required:!0};e.push({_isRecordOfVisitChild:!0,child:o.type._acceptVisitor(t),propertyName:n,required:!!o.required})}return t.visit(this,e)}},Jt=class extends S{static{s(this,"ArrayOf")}constructor(t){super(),this.arrayOf=t,this.kind="array",Object.freeze(this.arrayOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.arrayOf.length;r++)e.push(this.arrayOf[r]._acceptVisitor(t));return t.visit(this,e)}},wi=class extends S{static{s(this,"Tuple")}constructor(t){super(),this.tuple=t,this.kind="tuple",Object.freeze(this.tuple),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.tuple.length;r++)e.push(this.tuple[r]._acceptVisitor(t));return t.visit(this,e)}},Yt=class extends S{static{s(this,"Dict")}constructor(t){super(),this.dict=t,this.kind="dictionary",Object.freeze(this.dict),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.dict.length;r++)e.push(this.dict[r]._acceptVisitor(t));return t.visit(this,e)}},Kt=class extends S{static{s(this,"SetOf")}constructor(t){super(),this.setOf=t,this.kind="set",Object.freeze(this.setOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.setOf.length;r++)e.push(this.setOf[r]._acceptVisitor(t));return t.visit(this,e)}},Ie=class extends S{static{s(this,"OneOf")}constructor(t){super(),this.oneOf=t,this.kind="union",Object.freeze(this.oneOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.oneOf.length;r++)e.push(this.oneOf[r]._acceptVisitor(t));return t.visit(this,e)}},Zt=class extends S{static{s(this,"AllOf")}constructor(t){super(),this.allOf=t,this.kind="intersection",Object.freeze(this.allOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.allOf.length;r++)e.push(this.allOf[r]._acceptVisitor(t));return t.visit(this,e)}},Qt=class extends S{static{s(this,"Literal")}constructor(t){super(),this.literal=t,this.kind="literal",Object.freeze(this)}_acceptVisitor(t){return t.visit(this)}},er,Qe=class extends S{static{s(this,"Enum")}constructor(t){super(),this[er]={},this.kind="enumUnion",this.enumInstance=t,Object.freeze(this)}static getOriginalMetadata(t){return t[P]}setEnumName(t){return this[P].enumName=t,this}_acceptVisitor(t){return t.visit(this)}};er=P;var tr,et=class extends S{static{s(this,"EnumMember")}constructor(t){super(),this.enumMember=t,this[tr]={},this.kind="enumMember",Object.freeze(this)}static getOriginalMetadata(t){return t[P]}setEnumName(t){return this[P].enumName=t,this}setMemberName(t){return this[P].memberName=t,this}_acceptVisitor(t){return t.visit(this)}};tr=P;var Ti=class extends S{static{s(this,"InstanceOf")}constructor(t){super(),this.instanceOf=t,this.kind="instanceOf",Object.freeze(this)}_acceptVisitor(t){return t.visit(this)}},rr=class extends S{static{s(this,"Custom")}constructor(t){super(),this.custom=t,this.kind="custom",Object.freeze(this)}_acceptVisitor(t){return t.visit(this)}},nr,ir=class extends S{static{s(this,"StringMatching")}constructor(t){super(),this.pattern=t,this[nr]={},this.kind="stringMatching",Object.freeze(this)}static getOriginalMetadata(t){return t[P]}_acceptVisitor(t){return t.visit(this)}setTsPattern(t){return this[P].tsPattern=t,this}};nr=P;var Ei=class extends S{static{s(this,"CircularRef")}constructor(t){super(),this.parent=t,this.kind="circularRef"}get type(){return this.parent.type}_getReferencedType(){return this.parent.type}_acceptVisitor(t){return t.visit(this)}},Oi=class extends S{static{s(this,"Circular")}constructor(t){super(),this.kind="circular",this.type=t(new Ei(this))}_acceptVisitor(t){let e=this.type._acceptVisitor(t);return t.visit(this,[e])}},z={get Unknown(){return new j(B.Unknown)},get String(){return new j(B.String)},get Number(){return new j(B.Number)},get Int(){return new j(B.Int)},get Boolean(){return new j(B.Boolean)},get Symbol(){return new j(B.Symbol)},get Function(){return new j(B.Function)},get Null(){return new j(B.Null)},get Undefined(){return new j(B.Undefined)},get StringNumeral(){return new j(B.StringNumeral)},get StringInt(){return new j(B.StringInt)},RecordOf(t){return new re(t)},Dict(...t){return new Yt(t)},ArrayOf(...t){return new Jt(t)},Tuple(...t){return new wi(t)},SetOf(...t){return new Kt(t)},OneOf(...t){return new Ie(t)},AllOf(...t){return new Zt(t)},Literal(t){return new Qt(t)},EnumMember(t){return new et(t)},Enum(t){return new Qe(t)},InstanceOf(t){return new Ti(t)},Custom(t){return new rr(t)},StringMatching(t){return new ir(t)},Circular(t){return new Oi(t)}};var xi=new Set(["Array","Set","Map","Promise","Date","RegExp","Error","Symbol","Function","Object","Boolean","Number","String","Record","any","unknown","never","void","null","undefined","boolean","number","string","bigint","symbol"]),Oe=class{static{s(this,"NameGenerator")}static generate(t){xi.has(t)&&(t=t+"Type");let e=this.names.get(t);return e===void 0?(this.names.set(t,1),t):(this.names.set(t,e+1),t+e.toString())}static clear(){this.names.clear()}};Oe.names=new Map;var f=class{static{s(this,"TemplateBuilder")}constructor(t){this.template=t}build(t){let e=this.template;for(let[r,n]of Object.entries(t))e=e.replace(`{{${r}}}`,n);return e}};var ja=new f("Array<{{types}}>"),La=new f(`{{description}}
{{export}}type {{name}} = Array<{{types}}>;`);var Ua=new f("Record<string | number, {{type}}>"),Ga=new f(`{{description}}
{{export}}type {{name}} = Record<string | number, {{type}}>`);var Ja=new f(`{{description}}
{{export}}type {{name}} = {{type}};`);var el=new f(`{{description}}
{{export}}type {{name}} = {{type}};`);var sl=new f(`{{description}}
{{export}}type {{alias}} = {{refName}};`);var ul=new f("InstanceType<typeof {{type}}>"),pl=new f(`{{description}}
{{export}}type {{name}} = InstanceType<typeof {{type}}>`);var gl=new f("{{types}}"),yl=new f(`{{description}}
{{export}}type {{name}} = {{types}};`);var El=new f(`{{description}}
{{export}}type {{name}} = {{type}};`);var Al=new f(`{
{{properties}}
}`),Cl=new f(`{{extends}} & {
{{properties}}
}`),$l=new f(`{{description}}
{{export}}type {{name}} = {
{{properties}}
};`),Rl=new f(`{{description}}
{{export}}type {{name}} = {{extends}} & {
{{properties}}
};`);var Fl=new f("Set<{{types}}>"),Dl=new f(`{{description}}
{{export}}type {{name}} = Set<{{types}}>;`);var zl=new f(`{{description}}
{{export}}type {{name}} = boolean;`);var Yl=new f(`{{description}}
{{export}}type {{name}} = (...args: any[]) => unknown;`);var tc=new f(`{{description}}
{{export}}type {{name}} = null;`);var oc=new f(`{{description}}
{{export}}type {{name}} = number;`);var pc=new f(`{{description}}
{{export}}type {{name}} = string;`);var gc=new f(`{{description}}
{{export}}type {{name}} = symbol;`);var Tc=new f(`{{description}}
{{export}}type {{name}} = undefined;`);var Nc=new f(`{{description}}
{{export}}type {{name}} = unknown;`);var Ic=new f(`{{description}}
{{export}}type {{name}} = {{type}};`);var Dc=new f("[{{types}}]"),Vc=new f(`{{description}}
{{export}}type {{name}} = [{{types}}];`);var Wc=new f("{{types}}"),Hc=new f(`{{description}}
{{export}}type {{name}} = {{types}};`);var tp=eval,rp=`
    const _$every = (_$arr, _$predicate) => {
      for (let _$i = 0; _$i < _$arr.length; _$i++) {
        if (!_$predicate(_$arr[_$i]))
          return false;
      }
      return true;
    };
`.trim(),np=`
    const _$everyInSet = (_$set, _$predicate) => {
      for (let _$item of _$set) {
        if (!_$predicate(_$item))
          return false;
      }
      return true;
    };
`.trim(),ip=`
    const _$everyObjectValue = (_$obj, _$predicate) => {
      for (let _$key in _$obj) {
        if (!_$predicate(_$obj[_$key]))
          return false;
      }
      return true;
    };
`.trim(),sp=`
    const _$STRING_NUMERAL_ALLOWED_CHARS = ["0","1","2","3","4","5","6","7","8","9","."];
    const _$validateStringNumeral = (_$d) => typeof _$d === "string" &&
        _$d.length !== 0 &&
        _$d.split(".").length < 3 &&
        _$every(_$d, (_$char) => _$STRING_NUMERAL_ALLOWED_CHARS.includes(_$char));
`.trim(),op=`
    const _$STRING_INTEGER_ALLOWED_CHARS = ["0","1","2","3","4","5","6","7","8","9"];
    const _$validateStringInteger = (_$d) => typeof _$d === "string" &&
        _$d.length !== 0 &&
        _$every(_$d, (_$char) => _$STRING_INTEGER_ALLOWED_CHARS.includes(_$char));
`.trim(),ap=`
    const _$validatedCircularValues = new Map();
    const _$wasCircValidated = (_$tn, _$d) => {
      let _$set = _$validatedCircularValues.get(_$tn);
      if (!_$set) {
        _$set = new Set([_$d]);
        _$validatedCircularValues.set(_$tn, _$set);
        return false;
      }
      if (_$set.has(_$d)) {
        return true;
      }
      _$set.add(_$d);
      return false;
    };
`.trim();var H=class{static{s(this,"Path")}static init(t){let e=new H;return e.part=t,e}concat(t){let e=new H;return e.previous=this,e.part=t,e}flatten(){let t=[],e=this;for(;e;)t.push(e.part.toString()),e=e.previous;return t.reverse()}};var le=new Map,tt=s((t,e)=>{let r=le.get(t);return r?r.has(e)?!0:(r.add(e),!1):(r=new Set([e]),le.set(t,r),!1)},"wasCircValidated");var sr=s((t,e,r)=>{for(let n=0;n<e.allOf.length;n++){let i=e.allOf[n];M.get(i.kind)(t,i,r)}},"validateAllOf");var Ni=s((t,e)=>(e=e.toString(),/^[0-9]+$/.test(e)?`${t}[${e}]`:/[^a-zA-Z0-9]/.test(e)?`${t}["${e.replace(/"/g,'\\"')}"]`:`${t}.${e}`),"concatPathSegments"),or=s(t=>{var e;return t.slice(1).reduce(Ni,(e=t[0])!=null?e:"")},"concatPath");var ar=Symbol("ValidationError"),lr,y=class extends TypeError{static{s(this,"ValidationError")}constructor(t,e,r,n){super(n??"Value does not conform the data type structure definition."),this[lr]=!0,this.fieldPathCache=null,this.expectedValueType=e,this.path=t,this.receivedValue=r}static isValidationError(t){return typeof t=="object"&&t!==null&&t instanceof Error&&ar in t}get fieldPath(){return this.fieldPathCache==null&&(this.fieldPathCache=or(this.path.flatten())),this.fieldPathCache}};lr=ar;var X=s((t,e,r)=>{if(e.oneOf.length===1){let n=e.oneOf[0];return M.get(n.kind)(t,n,r)}for(let n=0;n<e.oneOf.length;n++)try{let i=e.oneOf[n];M.get(i.kind)(t,i,r);return}catch{continue}throw new y(t,e,r)},"validateOneOf");var cr=s((t,e,r)=>{if(!Array.isArray(r))throw new y(t,e,r);let n=z.OneOf(...e.arrayOf);for(let i=0;i<r.length;i++)X(t.concat(i),n,r[i])},"validateArray");var ur=s((t,e,r)=>{if(tt(e,r))return;let n=e.type;return M.get(n.kind)(t,n,r)},"validateCircular"),pr=s((t,e,r)=>{if(tt(e._getReferencedType(),r))return;let n=e._getReferencedType();return M.get(n.kind)(t,n,r)},"validateCircularRef");var mr=s((t,e,r)=>{if(!e.custom(r))throw new y(t,e,r)},"validateCustom");var dr=s((t,e,r)=>{if(typeof r!="object"||r===null||Array.isArray(r))throw new y(t,e,r);let n=Object.keys(r),i=z.OneOf(...e.dict);for(let o=0;o<n.length;o++){let a=n[o];X(t.concat(a),i,r[a])}},"validateDict");var fr=s((t,e,r)=>{let n=Object.keys(e.enumInstance);for(let i=0;i<n.length;i++){let o=n[i],a=e.enumInstance[o];if(Number.isNaN(Number(o))&&a===r)return}throw new y(t,e,r)},"validateEnum");var hr=s((t,e,r)=>{if(e.enumMember!==r)throw new y(t,e,r)},"validateEnumMember");var gr=s((t,e,r)=>{if(typeof r!="object"||r===null)throw new y(t,e,r);if(!(r instanceof e.instanceOf))throw new y(t,e,r)},"validateInstanceOf");var yr=s((t,e,r)=>{if(e.literal!==r)throw new y(t,e,r)},"validateLiteral");var Pi=new Set(["0","1","2","3","4","5","6","7","8","9"]),br=s((t,e)=>{let r=s(()=>{throw new y(t,"stringinteger",e)},"throwError");typeof e!="string"&&r();for(let n=0;n<e.length;n++)Pi.has(e[n])||r();e.length===0&&r()},"validateStringInteger");var Si=new Set(["0","1","2","3","4","5","6","7","8","9","."]),vr=s((t,e)=>{let r=s(()=>{throw new y(t,"stringnumeral",e)},"throwError");typeof e!="string"&&r();for(let n=0;n<e.length;n++)Si.has(e[n])||r();e.split(".").length>2&&r(),e.length===0&&r()},"validateStringNumeral");var wr=s((t,e,r)=>{let n=e.simpleType,i=s(()=>{throw new y(t,n,r)},"throwError");if(n==="number")return typeof r!="number"||Number.isNaN(r)?i():void 0;if(n==="integer")return typeof r!="number"||!Number.isInteger(r)?i():void 0;if(typeof r!==n){if(n==="stringnumeral")return vr(t,r);if(n==="stringinteger")return br(t,r);n!=="unknown"&&(n==="null"&&r===null||i())}},"validatePrimitive");var ki=Object.defineProperty,Tr=Object.getOwnPropertySymbols,Mi=Object.prototype.hasOwnProperty,Ai=Object.prototype.propertyIsEnumerable,Er=s((t,e,r)=>e in t?ki(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Ci=s((t,e)=>{for(var r in e||(e={}))Mi.call(e,r)&&Er(t,r,e[r]);if(Tr)for(var r of Tr(e))Ai.call(e,r)&&Er(t,r,e[r]);return t},"__spreadValues"),Or=s((t,e,r)=>{if(typeof r!="object"||r===null||Array.isArray(r)||r[Symbol.toStringTag]==="Set")throw new y(t,e,r);let n=e.keys;for(let i=0;i<n.length;i++){let o=n[i],a=e.recordOf[o],c=F(a)?Ci({required:!0},a):{type:a,required:!0};if(!(o in r)){if(c.required!==!0)continue;throw new y(t.concat(o),e,void 0)}let u=r[o];u===void 0&&c.required!==!0||M.get(c.type.kind)(t.concat(o),c.type,u)}},"validateRecord");var xr=s((t,e,r)=>{if(!(typeof r=="object"&&r!==null&&r[Symbol.toStringTag]==="Set"))throw new y(t,e,r);let n=z.OneOf(...e.setOf);for(let i of r)X(t.concat("SET_ELEMENT"),n,i)},"validateSet");var _r=s((t,e,r)=>{if(typeof r!="string"||!e.pattern.test(r))throw new y(t,e,r)},"validateStringMatching");var Nr=s((t,e,r)=>{if(!Array.isArray(r)||r.length!==e.tuple.length)throw new y(t,e,r);for(let n=0;n<e.tuple.length;n++){let i=r[n],o=e.tuple[n];M.get(o.kind)(t.concat(n),o,i)}},"validateTuple");var M=new Map([["simple",wr],["array",cr],["tuple",Nr],["record",Or],["dictionary",dr],["union",X],["intersection",sr],["literal",yr],["enumMember",hr],["enumUnion",fr],["set",xr],["instanceOf",gr],["custom",mr],["stringMatching",_r],["circular",ur],["circularRef",pr]]);var $i=H.init("$"),Pr=s((t,e,r)=>s(i=>{try{return M.get(t.kind)($i,t,i),e(i)}catch(o){return r?r(o,i):void 0}finally{le.clear()}},"caller"),"createTypeGuardedFunction"),rt=Pr;var rd=H.init("$");var ld=H.init("$");var E=z;var nt=E.OneOf(E.String,E.ArrayOf(E.RecordOf({name:E.String,script:E.String,mustRunAlone:{type:E.Boolean,required:!1}}),E.RecordOf({name:E.String,taskFile:E.String,mustRunAlone:{type:E.Boolean,required:!1}}))),Ri=E.RecordOf({packageManager:E.OneOf(E.Literal("yarn"),E.Literal("npm")),parallel:{required:!1,type:E.OneOf(E.Boolean,E.RecordOf({"pre-push":{required:!1,type:E.Boolean},"pre-commit":{required:!1,type:E.Boolean},"post-commit":{required:!1,type:E.Boolean}}))},parallelPoolSize:{required:!1,type:E.Number},hooks:{required:!1,type:E.RecordOf({"pre-push":{required:!1,type:nt},"pre-commit":{required:!1,type:nt},"post-commit":{required:!1,type:nt}})}}),Sr=rt(Ri,t=>t,t=>{throw new Error(`Config file incorrect. Option '${t.fieldPath}' is not of the expected type.`)});var J="git-hook-tasks.config.json",ce=s(async t=>{if(!(await it.default.readdir(t)).includes(J))throw new Error("Config file not found!");let r=JSON.parse(await it.default.readFile(kr.default.resolve(t,J),{encoding:"utf-8"}));return Sr(r)},"readConfig");var Mr=s(async(t,e)=>{(await ne.default.readdir(t)).includes(J)||await ne.default.writeFile(Be.default.resolve(t,J),`{
  "packageManager": "${e}",
  "hooks": {
    "pre-push": [],
    "pre-commit": [],
    "post-commit": []
  }
}
`);let n=Be.default.resolve(t,".vscode"),i=Be.default.resolve(n,"settings.json");await ne.default.mkdir(n,{recursive:!0});let o={};if((await ne.default.readdir(n)).includes("settings.json")){let l=await ne.default.readFile(i,{encoding:"utf-8"});o=JSON.parse(l)}o["json.schemas"]||(o["json.schemas"]=[]),o["json.schemas"].some(l=>{if(typeof l=="object"&&l!==null){let u=l.fileMatch;return Array.isArray(u)?u.includes(J):u===J}return!1})||(o["json.schemas"].push({fileMatch:[J],url:"./node_modules/git-hook-tasks/dist/config/json-schema.json"}),await ne.default.writeFile(i,JSON.stringify(o,null,2)))},"createConfig");var xe=class{constructor(e,r){this.separator=" ";this._isClosed=!1;this._isDeleted=!1;this.manager=e,this.content=r}static{s(this,"OutputEntry")}setSeparator(e,r){let n=this.separator;this.separator=e,this.contentMemo=void 0,r&&n!==e&&this.manager._rerender()}getContent(){return this.contentMemo?this.contentMemo:(this.contentMemo=this.content.filter(e=>e).map(e=>String(e)).join(this.separator).split(`
`).map(e=>new st(this,e)),this.contentMemo)}update(e){if(!this._isClosed){this.contentMemo=void 0;try{typeof e=="function"?this.content=e(this.content):this.content=e,this.manager._rerender()}catch{}}}delete(){this._isClosed=!0,this._isDeleted=!0,this.contentMemo=void 0,this.content=[],this.manager._rerender()}close(){this._isClosed=!0}get isClosed(){return this._isClosed}get isDeleted(){return this._isDeleted}},st=class{constructor(e,r){this.entry=e;this.content=r;this.entryClosed=e.isClosed}static{s(this,"OutputLine")}};function Ar(t,e,r={}){let n,i,o,a=null,l=0;r||(r={});let c=s(function(){l=r.leading===!1?0:Date.now(),a=null,o=t.apply(n,i),a||(n=i=null)},"later"),u=s(function(...d){let m=Date.now();!l&&r.leading===!1&&(l=m);let h=e-(m-l);return n=this,i=d,h<=0||h>e?(a&&(clearTimeout(a),a=null),l=m,o=t.apply(n,i),a||(n=i=null)):!a&&r.trailing!==!1&&(a=setTimeout(c,h)),o},"fn");return u.setWait=d=>{e=d},u}s(Ar,"throttle");var Cr=Ar(t=>t(),1e3,{leading:!0,trailing:!0}),je=class{constructor(){this.lines=[];this.firstOpenLineIdx=0}static{s(this,"OutputBuffer")}put(e){let r=!0;for(let n=0;n<e.length;n++){let i=e[n];this.lines.push(i),r&&!i.entryClosed&&(r=!1,this.firstOpenLineIdx=n)}}findFirstDifferentLine(e){let r=Math.max(this.lines.length,e.lines.length);for(let n=this.firstOpenLineIdx;n<r;n++)if(this.lines[n]?.content!==e.lines[n]?.content)return n;return null}lineCount(){return this.lines.length}slice(e){return this.lines.slice(e)}},T=class{static{s(this,"OutputManager")}static{this.outEntries=[]}static{this.currentBuffer=new je}static replaceStdoutLine(e,r){process.stdout.moveCursor(0,-e),process.stdout.clearLine(0),process.stdout.write("\r"+r+"\r"),process.stdout.moveCursor(0,e)}static{this.isRenderQueued=!1}static _rerender(){this.isRenderQueued||(this.isRenderQueued=!0,setTimeout(()=>{this.isRenderQueued=!1,Cr(()=>{let e=new je;for(let o=0;o<this.outEntries.length;o++){let a=this.outEntries[o];a.isDeleted||e.put(a.getContent())}let r=this.currentBuffer.findFirstDifferentLine(e);if(r===null)return;let n=this.currentBuffer.lineCount()-r,i=e.slice(r);for(let o=n;o>0;o--){let a=i.shift();a!=null?this.replaceStdoutLine(o,a.content):process.stdout.write("\x1B[T\x1B[2K")}for(let o=0;o<i.length;o++){let a=i[o];process.stdout.write(a.content+`
`)}this.currentBuffer=e})},25))}static setMaxFps(e){Cr.setWait(Math.max(1,Math.floor(1e3/e)))}static dynamicLine(e,r){let n=new xe(this,e);return this.outEntries.push(n),r!==void 0&&n.setSeparator(r,!1),this._rerender(),n}static staticLine(e,r){let n=new xe(this,e);this.outEntries.push(n),r&&n.setSeparator(r,!1),n.close(),this._rerender()}};var $r=b(require("child_process"));var D=s((t,e)=>new Promise((r,n)=>{$r.default.exec(t,e,(i,o,a)=>i?n(new Error(i.message+`
`+o.toString()+`
`+a.toString(),{cause:i})):r())}),"exec");var V=s(t=>t.map(e=>e.includes(" ")&&e[0]!=='"'&&e[0]!=='"'&&e[0]!=="`"?`"${e}"`:e).join(" "),"parseArgs");var Rr=class ue{static{s(this,"BunPM")}static{this.cwd=process.cwd()}static async execute(...e){return D("bun "+V(e),{cwd:ue.cwd})}static{this.label="bun"}static setCwd(e){ue.cwd=e}static install(e){let r=[];return r.push(e),ue.execute("add",...r)}static installDev(e){let r=["-D"];return r.push(e),ue.execute("add",...r)}static async run(e,...r){return ue.execute("run",...r)}static async generateCommand(e,...r){return V(["run",e,...r])}};var Ir=b(require("fs/promises")),Br=b(require("path"));var jr=class Y{static{s(this,"Npm")}static{this.cwd=process.cwd()}static execute(e){return D(e,{cwd:Y.cwd})}static{this.label="npm"}static setCwd(e){Y.cwd=e}static install(e){let r=["npm","install"];return r.push(e),Y.execute(V(r))}static installDev(e){let r=["npm","install","-D"];return r.push(e),Y.execute(V(r))}static async run(e,...r){return Y.execute(await Y.generateCommand(e,...r))}static async generateCommand(e,...r){let n=Br.default.resolve(Y.cwd,"package.json"),i=[];try{let o=await Ir.default.readFile(n,{encoding:"utf-8"}),a=JSON.parse(o);i.push(...Object.keys(a.scripts??{}))}catch{}if(i.includes(e)){let o=["npm","run",e];return r.length>0&&(o.push("--"),o.push(...r)),V(o)}return V(["npx",e,...r])}};var Lr=class ie{static{s(this,"Yarn")}static{this.cwd=process.cwd()}static async execute(e){return D(e,{cwd:ie.cwd})}static{this.label="yarn"}static setCwd(e){ie.cwd=e}static install(e){let r=[];return r.push(e),ie.run("add",...r)}static installDev(e){let r=["-D"];return r.push(e),ie.run("add",...r)}static async run(e,...r){return ie.execute(await ie.generateCommand(e,...r))}static async generateCommand(e,...r){return V(["yarn",e,...r])}};var K=s(t=>{if(t==="yarn")return Lr;if(t==="npm")return jr;if(t==="bun")return Rr;throw T.staticLine([`Invalid package manager argument: (${t})`]),new Error(`Invalid package manager argument: (${t})`)},"getPackageManager");var ot=b(require("fs/promises")),Fr=b(require("os")),Le=b(require("path"));var Ii=Fr.default.platform()==="win32",Z=s(async()=>{let t=Le.default.resolve(__dirname,"..");for(;;){if(Ii&&t.length<4||t.length<2)throw new Error("Project root directory not found!");if((await ot.default.readdir(t)).some(r=>r==="package.json")){let r=Le.default.resolve(t,"package.json");if((await ot.default.readFile(r,"utf8").then(i=>JSON.parse(i))).name!=="git-hook-tasks")return t}t=Le.default.resolve(t,"..")}},"findProjectRoot");var Dr=s(t=>{let e=t.option(Gt);return async()=>{let r=K(e.value),n=await Z();r.setCwd(n),Mr(n,e.value),await r.run("husky","install"),await Promise.all([r.run("husky","add",".husky/pre-commit",await r.generateCommand("git-hook-tasks","pre-commit")),r.run("husky","add",".husky/pre-push",await r.generateCommand("git-hook-tasks","pre-push")),r.run("husky","add",".husky/post-commit",await r.generateCommand("git-hook-tasks","post-commit"))]),await Promise.all([D("git add .husky/pre-commit",{cwd:n}),D("git add .husky/pre-push",{cwd:n}),D("git add .husky/post-commit",{cwd:n})])}},"InstallCommand");var Cn=b(se()),$n=b(require("fs/promises")),wt=b(require("path"));var he=b(se()),xn=b(On());var yt=`[${he.default.green("\u2713")}]`,bt=`[${he.default.red("\u2715")}]`,as={".  ":".. ",".. ":"...","...":".  ",[yt]:yt,[bt]:bt},q=s((t,e)=>{let r=T.dynamicLine([".  ",t,`(${he.default.blue(e)})`]),n=setInterval(()=>{r.update(([l,c,u])=>[as[l],c,u])},700);return{finishSuccess:s(()=>{clearInterval(n),r.update(([,l])=>[yt,l]),r.close()},"finishSuccess"),finishFailure:s(()=>{clearInterval(n),r.update(([,l,c])=>[bt,l,c?`(${he.default.red((0,xn.default)(c).slice(1,-1))})`:void 0]),r.close()},"finishFailure"),updateProgress:s(l=>{r.update(([c,u])=>[c,u,`(${he.default.blue(l)})`])},"updateProgress")}},"loadingLine");var _n=b(se());var ge=s(()=>{T.staticLine([_n.default.greenBright(`
All git hook tasks finished successfully!
`)])},"onAllTasksSuccess");var Nn=b(se());var $=class extends Error{constructor(r,n=!1){super("Operation Error");this._isOperationError=!0;n||(T.staticLine([`
`]),T.staticLine([r]),T.staticLine([`
`]),T.staticLine([Nn.default.redBright("Git hook task has failed. Exiting.")]))}static{s(this,"OperationError")}static isOperationError(r){return"_isOperationError"in r?r._isOperationError===!0:!1}},oe=class extends Error{constructor(r){super("Operation Error");this._isPostponedOperationError=!0;this.errorData=r}static{s(this,"PostponedOperationError")}static isPostponedOperationError(r){return"_isPostponedOperationError"in r?r._isPostponedOperationError===!0:!1}static print(r){T.staticLine([`
`]),T.staticLine([r.errorData]),T.staticLine([`
`])}};var vt=b(se()),Se=b(require("path"));var Pe=class t{constructor(){this.buffer=[]}static{s(this,"ConsoleInterceptor")}static{this.originals={log:console.log,error:console.error,info:console.info,warn:console.warn,debug:console.debug,clear:console.clear,table:console.table}}static restore(){console.clear=this.originals.clear,console.debug=this.originals.debug,console.error=this.originals.error,console.info=this.originals.info,console.log=this.originals.log,console.table=this.originals.table,console.warn=this.originals.warn}static intercept(){let e=new t;return console.clear=(...r)=>e.intercept("clear",r),console.debug=(...r)=>e.intercept("debug",r),console.error=(...r)=>e.intercept("error",r),console.info=(...r)=>e.intercept("info",r),console.log=(...r)=>e.intercept("log",r),console.table=(...r)=>e.intercept("table",r),console.warn=(...r)=>e.intercept("warn",r),e}intercept(e,r){this.buffer.push([e,r])}read(){return[...this.buffer]}};var We=b(require("fs/promises"));var kn=b(require("path"),1);var Pn=b(require("fs/promises"),1);async function Sn(t,e){try{let r=await Pn.default.readdir(t,{withFileTypes:!0}),n=[],i=[];for(let o of r)o.isDirectory()?n.push(o):o.isFile()&&i.push(o);return[t,n,i]}catch(r){if(e)return[t,[],[]];throw r}}s(Sn,"readDir");async function*ze(t,e={}){var r,n;(r=e.followSymlinks)!=null||(e.followSymlinks=!1),(n=e.ignoreErrors)!=null||(e.ignoreErrors=!1);let i=await Sn(t,e.ignoreErrors);yield i;let[o,a]=i;for(let l of a){if(!e.followSymlinks&&l.isSymbolicLink())continue;let c=kn.default.resolve(o,l.name);for await(let u of ze(c,e))yield u}}s(ze,"walk");var ee=b(require("path"));var Mn=s(async(t,e,r)=>{let n=ee.default.parse(r),i=ee.default.resolve(e,"node_modules/.cache/git-hook-tasks",n.name);await We.default.mkdir(i,{recursive:!0}),await t.run("tsc",r,"-m","commonjs","--noImplicitUseStrict","--esModuleInterop","--skipLibCheck","--allowJs","--incremental","--tsBuildInfoFile",ee.default.join(i,"tsbuildinfo"),"--outDir",i);for await(let[o,a,l]of ze(i))for(let c of l)if(ee.default.extname(c.name)===".js"){let u=ee.default.join(o,c.name),d=ee.default.dirname(u).replace(i,n.dir),m=await We.default.readFile(u,{encoding:"utf-8"});m.startsWith("__dirname =")?m=m.replace(/^__dirname\s=\s.+?;/,`__dirname = ${JSON.stringify({path:d})}.path;`):m=`__dirname = ${JSON.stringify({path:d})}.path;
`+m,await We.default.writeFile(u,m,{encoding:"utf-8"})}return ee.default.join(i,n.name+".js")},"prepareTsFile");var ke=s(async(t,e,r,n=o=>{},i=T)=>{let o=Se.default.extname(r);if(n("identifying file type"),![".js",".jsx",".ts",".tsx"].includes(o))throw new Error(`Unsupported script file type: ${r}
Script must be a JavaScript file.`);let a=[".ts",".tsx"].includes(o);a&&n("transpiling to js");let l=a?await Mn(t,e,Se.default.resolve(e,r)):Se.default.resolve(e,r),c=Pe.intercept();try{n("loading script");let u=require(l);return n("executing"),"default"in u&&typeof u.default=="function"&&await u.default(n),null}catch(u){for(let[d,m]of c.read()){let h=d==="error"?vt.default.redBright:d==="warn"?vt.default.yellow:v=>v;switch(d){case"clear":break;default:i.staticLine([Se.default.parse(r).name+":",...m.map(v=>h(v.toString()))]," ")}}return u}finally{Pe.restore()}},"runScriptTask");var An=s(()=>T.staticLine([Cn.default.green(`
Running Git Hook Tasks
`)]),"onTaskStart"),ye=s(async(t,e,r,n)=>{if(r.hooks){let i=r.hooks[n];if(i)if(typeof i=="string"){An();let o=await $n.default.readdir(i);for(let a of o){let l=q(wt.default.basename(a),"starting"),c=await ke(t,e,wt.default.resolve(e,i,a),l.updateProgress);if(!c)l.finishSuccess();else throw l.finishFailure(),new $(c.message)}ge()}else{i.length>0&&An();for(let o of i)if("script"in o){let a=q(o.name,"running script");try{await t.run(...o.script.split(" ")),a.finishSuccess()}catch(l){throw a.finishFailure(),new $(l.message)}}else{let a=q(o.name,"starting"),l=await ke(t,e,o.taskFile,a.updateProgress);if(!l)a.finishSuccess();else throw a.finishFailure(),new $(l.message)}i.length>0&&ge()}}},"executeHooks");var be=s(async t=>{process.stdout.write("\x1B[?25l"),process.on("exit",function(){process.stdout.write("\x1B[?25h")}),process.on("SIGINT",async function(){process.exit(1)});try{await t()}catch(e){e instanceof Error&&$.isOperationError(e)||new $(`${e.message}`),await new Promise(r=>setTimeout(r,1e3)),process.exit(1)}},"runTasks");var Fn=b(In()),xt=b(se()),Dn=b(require("fs/promises")),Vn=b(require("os")),Ot=b(require("path"));var Bn=require("node:worker_threads"),jn=b(require("path"));var Me=s((t,e)=>["message",r=>{typeof r=="object"&&r!==null&&"topic"in r&&r.topic===t&&e(r.payload)}],"createListener");var Et=s((t,e,r,n)=>new Promise((i,o)=>{let a=new Bn.Worker(jn.default.resolve(__dirname,"./task.worker.js"),{workerData:{cwd:e,scriptPath:r,packageManager:t.label}}),l=q(n,"starting"),c=s(u=>{a.removeAllListeners(),a.terminate(),u?l.finishSuccess():l.finishFailure()},"close");a.addListener(...Me("newLine",({content:u,separator:d})=>{T.staticLine(u,d)})),a.addListener(...Me("progress",u=>{l.updateProgress(u)})),a.addListener("error",u=>{c(!1),o(u)}),a.addListener(...Me("finishFailure",u=>{c(!1),o(new oe(u.message))})),a.addListener(...Me("finishSuccess",()=>{c(!0),i()}))}),"runTaskWorker");var Ln=s(()=>T.staticLine([xt.default.green(`
Running Git Hook Tasks
`)]),"onTaskStart"),ve=s(async(t,e,r,n)=>{if(r.hooks){let i=r.hooks[n];if(i){let o=new Fn.Queue(r.parallelPoolSize??Math.max(1,Vn.default.cpus().length-1)),a=[],l=s(()=>{for(let c of a)oe.isPostponedOperationError(c)?oe.print(c):new $(`${c.message}`);throw T.staticLine([xt.default.redBright("Some Git hook tasks have failed. Exiting.")]),new $("",!0)},"processErrors");if(typeof i=="string"){Ln();let c=await Dn.default.readdir(i);for(let u of c){let d=Ot.default.basename(u);o.run(()=>Et(t,e,Ot.default.resolve(e,i,u),d).catch(m=>{a.push(m)}))}if(await o.flush(),a.length===0)ge();else return l()}else{let c=[];i.length>0&&Ln();for(let u of i)if("script"in u){if(u.mustRunAlone){c.push(async()=>{let d=q(u.name,"running script");try{await t.run(...u.script.split(" ")),d.finishSuccess()}catch(m){throw d.finishFailure(),new $(m.message)}});continue}o.run(()=>{let d=q(u.name,"running script");return t.run(...u.script.split(" ")).then(()=>{d.finishSuccess()}).catch(m=>{d.finishFailure(),a.push(m)})})}else{if(u.mustRunAlone){c.push(async()=>{let d=q(u.name,"starting"),m=await ke(t,e,u.taskFile,d.updateProgress);if(!m)d.finishSuccess();else throw d.finishFailure(),new $(m.message)});continue}o.run(()=>Et(t,e,u.taskFile,u.name).catch(d=>{a.push(d)}))}if(await o.flush(),a.length>0)return l();for(let u of c)await u();i.length>0&&ge()}}}},"executeHooksInParallel");var qn=s(()=>async()=>{await be(async()=>{let t=await Z(),e=await ce(t),r=K(e.packageManager);r.setCwd(t),e.parallel===!0||typeof e.parallel=="object"&&e.parallel["post-commit"]===!0?await ve(r,t,e,"post-commit"):await ye(r,t,e,"post-commit")})},"PostCommitCommand");var Un=s(t=>async()=>{await be(async()=>{let e=await Z(),r=await ce(e),n=K(r.packageManager);n.setCwd(e),r.parallel===!0||typeof r.parallel=="object"&&r.parallel["pre-commit"]===!0?await ve(n,e,r,"pre-commit"):await ye(n,e,r,"pre-commit")})},"PreCommitCommand");var Gn=s(()=>async()=>{await be(async()=>{let t=await Z(),e=await ce(t),r=K(e.packageManager);r.setCwd(t),e.parallel===!0||typeof e.parallel=="object"&&e.parallel["pre-push"]===!0?await ve(r,t,e,"pre-push"):await ye(r,t,e,"pre-push")})},"PrePushCommand");Ut.configure(t=>{T.setMaxFps(2.86),t.setName("git-hook-tasks"),t.setDescription("A runner for git hooks with support for parallel tasks."),t.command("install",Dr),t.command("pre-commit",Un),t.command("pre-push",Gn),t.command("post-commit",qn)}).run();
