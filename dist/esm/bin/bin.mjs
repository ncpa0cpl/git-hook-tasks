#!/usr/bin/env node
var Rn=Object.create;var We=Object.defineProperty;var In=Object.getOwnPropertyDescriptor;var Bn=Object.getOwnPropertyNames;var jn=Object.getPrototypeOf,Ln=Object.prototype.hasOwnProperty;var s=(t,e)=>We(t,"name",{value:e,configurable:!0}),Ae=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Fn=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Bn(e))!Ln.call(t,i)&&i!==r&&We(t,i,{get:()=>e[i],enumerable:!(n=In(e,i))||n.enumerable});return t};var G=(t,e,r)=>(r=t!=null?Rn(jn(t)):{},Fn(e||!t||!t.__esModule?We(r,"default",{value:t,enumerable:!0}):r,t));var Rt=A((Ls,$t)=>{"use strict";function ti(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}s(ti,"hasKey");function At(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}s(At,"isNumber");function Ct(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}s(Ct,"isConstructorOrProto");$t.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(g){r.bools[g]=!0});var n={};function i(g){return n[g].some(function(_){return r.bools[_]})}s(i,"aliasIsBoolean"),Object.keys(e.alias||{}).forEach(function(g){n[g]=[].concat(e.alias[g]),n[g].forEach(function(_){n[_]=[g].concat(n[g].filter(function(q){return _!==q}))})}),[].concat(e.string).filter(Boolean).forEach(function(g){r.strings[g]=!0,n[g]&&[].concat(n[g]).forEach(function(_){r.strings[_]=!0})});var o=e.default||{},a={_:[]};function l(g,_){return r.allBools&&/^--[^=]+$/.test(_)||r.strings[g]||r.bools[g]||n[g]}s(l,"argDefined");function c(g,_,q){for(var v=g,we=0;we<_.length-1;we++){var j=_[we];if(Ct(v,j))return;v[j]===void 0&&(v[j]={}),(v[j]===Object.prototype||v[j]===Number.prototype||v[j]===String.prototype)&&(v[j]={}),v[j]===Array.prototype&&(v[j]=[]),v=v[j]}var U=_[_.length-1];Ct(v,U)||((v===Object.prototype||v===Number.prototype||v===String.prototype)&&(v={}),v===Array.prototype&&(v=[]),v[U]===void 0||r.bools[U]||typeof v[U]=="boolean"?v[U]=q:Array.isArray(v[U])?v[U].push(q):v[U]=[v[U],q])}s(c,"setKey");function u(g,_,q){if(!(q&&r.unknownFn&&!l(g,q)&&r.unknownFn(q)===!1)){var v=!r.strings[g]&&At(_)?Number(_):_;c(a,g.split("."),v),(n[g]||[]).forEach(function(we){c(a,we.split("."),v)})}}s(u,"setArg"),Object.keys(r.bools).forEach(function(g){u(g,o[g]===void 0?!1:o[g])});var d=[];t.indexOf("--")!==-1&&(d=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var m=0;m<t.length;m++){var h=t[m],b,E;if(/^--.+=/.test(h)){var ee=h.match(/^--([^=]+)=([\s\S]*)$/);b=ee[1];var ze=ee[2];r.bools[b]&&(ze=ze!=="false"),u(b,ze,h)}else if(/^--no-.+/.test(h))b=h.match(/^--no-(.+)/)[1],u(b,!1,h);else if(/^--.+/.test(h))b=h.match(/^--(.+)/)[1],E=t[m+1],E!==void 0&&!/^(-|--)[^-]/.test(E)&&!r.bools[b]&&!r.allBools&&(!n[b]||!i(b))?(u(b,E,h),m+=1):/^(true|false)$/.test(E)?(u(b,E==="true",h),m+=1):u(b,r.strings[b]?"":!0,h);else if(/^-[^-]+/.test(h)){for(var R=h.slice(1,-1).split(""),Me=!1,M=0;M<R.length;M++){if(E=h.slice(M+2),E==="-"){u(R[M],E,h);continue}if(/[A-Za-z]/.test(R[M])&&E[0]==="="){u(R[M],E.slice(1),h),Me=!0;break}if(/[A-Za-z]/.test(R[M])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(E)){u(R[M],E,h),Me=!0;break}if(R[M+1]&&R[M+1].match(/\W/)){u(R[M],h.slice(M+2),h),Me=!0;break}else u(R[M],r.strings[R[M]]?"":!0,h)}b=h.slice(-1)[0],!Me&&b!=="-"&&(t[m+1]&&!/^(-|--)[^-]/.test(t[m+1])&&!r.bools[b]&&(!n[b]||!i(b))?(u(b,t[m+1],h),m+=1):t[m+1]&&/^(true|false)$/.test(t[m+1])?(u(b,t[m+1]==="true",h),m+=1):u(b,r.strings[b]?"":!0,h))}else if((!r.unknownFn||r.unknownFn(h)!==!1)&&a._.push(r.strings._||!At(h)?h:Number(h)),e.stopEarly){a._.push.apply(a._,t.slice(m+1));break}}return Object.keys(o).forEach(function(g){ti(a,g.split("."))||(c(a,g.split("."),o[g]),(n[g]||[]).forEach(function(_){c(a,_.split("."),o[g])}))}),e["--"]?a["--"]=d.slice():d.forEach(function(g){a._.push(g)}),a}});var Br=A((Uf,Ir)=>{"use strict";Ir.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var st=A((Gf,Lr)=>{"use strict";var _e=Br(),jr={};for(let t of Object.keys(_e))jr[_e[t]]=t;var p={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Lr.exports=p;for(let t of Object.keys(p)){if(!("channels"in p[t]))throw new Error("missing channels property: "+t);if(!("labels"in p[t]))throw new Error("missing channel labels property: "+t);if(p[t].labels.length!==p[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=p[t];delete p[t].channels,delete p[t].labels,Object.defineProperty(p[t],"channels",{value:e}),Object.defineProperty(p[t],"labels",{value:r})}p.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=o-i,l,c;o===i?l=0:e===o?l=(r-n)/a:r===o?l=2+(n-e)/a:n===o&&(l=4+(e-r)/a),l=Math.min(l*60,360),l<0&&(l+=360);let u=(i+o)/2;return o===i?c=0:u<=.5?c=a/(o+i):c=a/(2-o-i),[l,c*100,u*100]};p.rgb.hsv=function(t){let e,r,n,i,o,a=t[0]/255,l=t[1]/255,c=t[2]/255,u=Math.max(a,l,c),d=u-Math.min(a,l,c),m=s(function(h){return(u-h)/6/d+1/2},"diffc");return d===0?(i=0,o=0):(o=d/u,e=m(a),r=m(l),n=m(c),a===u?i=n-r:l===u?i=1/3+e-n:c===u&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,u*100]};p.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=p.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};p.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),o=(1-e-i)/(1-i)||0,a=(1-r-i)/(1-i)||0,l=(1-n-i)/(1-i)||0;return[o*100,a*100,l*100,i*100]};function Mi(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}s(Mi,"comparativeDistance");p.rgb.keyword=function(t){let e=jr[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(_e)){let o=_e[i],a=Mi(t,o);a<r&&(r=a,n=i)}return n};p.keyword.rgb=function(t){return _e[t]};p.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,o=e*.2126+r*.7152+n*.0722,a=e*.0193+r*.1192+n*.9505;return[i*100,o*100,a*100]};p.rgb.lab=function(t){let e=p.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,a=500*(r-n),l=200*(n-i);return[o,a,l]};p.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o,a;if(r===0)return a=n*255,[a,a,a];n<.5?i=n*(1+r):i=n+r-n*r;let l=2*n-i,c=[0,0,0];for(let u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?a=l+(i-l)*6*o:2*o<1?a=i:3*o<2?a=l+(i-l)*(2/3-o)*6:a=l,c[u]=a*255;return c};p.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let a=(n+r)/2,l=n===0?2*i/(o+i):2*r/(n+r);return[e,l*100,a*100]};p.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*n*(1-r),l=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,a];case 1:return[l,n,a];case 2:return[a,n,c];case 3:return[a,l,n];case 4:return[c,a,n];case 5:return[n,a,l]}};p.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,a;a=(2-r)*n;let l=(2-r)*i;return o=r*i,o/=l<=1?l:2-l,o=o||0,a/=2,[e,o*100,a*100]};p.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let a=Math.floor(6*e),l=1-n;o=6*e-a,a&1&&(o=1-o);let c=r+o*(l-r),u,d,m;switch(a){default:case 6:case 0:u=l,d=c,m=r;break;case 1:u=c,d=l,m=r;break;case 2:u=r,d=l,m=c;break;case 3:u=r,d=c,m=l;break;case 4:u=c,d=r,m=l;break;case 5:u=l,d=r,m=c;break}return[u*255,d*255,m*255]};p.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,r*(1-i)+i),l=1-Math.min(1,n*(1-i)+i);return[o*255,a*255,l*255]};p.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,a;return i=e*3.2406+r*-1.5372+n*-.4986,o=e*-.9689+r*1.8758+n*.0415,a=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[i*255,o*255,a*255]};p.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(e-r),a=200*(r-n);return[i,o,a]};p.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,o,a;o=(e+16)/116,i=r/500+o,a=o-n/200;let l=o**3,c=i**3,u=a**3;return o=l>.008856?l:(o-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,o*=100,a*=108.883,[i,o,a]};p.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(r*r+n*n);return[e,a,i]};p.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,o=r*Math.cos(i),a=r*Math.sin(i);return[e,o,a]};p.rgb.ansi16=function(t,e=null){let[r,n,i]=t,o=e===null?p.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(a+=60),a};p.hsv.ansi16=function(t){return p.rgb.ansi16(p.hsv.rgb(t),t[2])};p.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};p.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};p.ansi256.rgb=function(t){if(t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};p.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};p.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(l=>l+l).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,a=n&255;return[i,o,a]};p.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),a=i-o,l,c;return a<1?l=o/(1-a):l=0,a<=0?c=0:i===e?c=(r-n)/a%6:i===r?c=2+(n-e)/a:c=4+(e-r)/a,c/=6,c%=1,[c*360,a*100,l*100]};p.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};p.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};p.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,a=o%1,l=1-a,c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};p.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};p.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};p.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};p.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};p.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};p.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};p.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};p.gray.hsl=function(t){return[0,0,t[0]]};p.gray.hsv=p.gray.hsl;p.gray.hwb=function(t){return[0,100,t[0]]};p.gray.cmyk=function(t){return[0,0,0,t[0]]};p.gray.lab=function(t){return[t[0],0,0]};p.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};p.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Dr=A((Wf,Fr)=>{"use strict";var je=st();function Ai(){let t={},e=Object.keys(je);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}s(Ai,"buildGraph");function Ci(t){let e=Ai(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(je[n]);for(let o=i.length,a=0;a<o;a++){let l=i[a],c=e[l];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,r.unshift(l))}}return e}s(Ci,"deriveBFS");function $i(t,e){return function(r){return e(t(r))}}s($i,"link");function Ri(t,e){let r=[e[t].parent,t],n=je[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=$i(je[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}s(Ri,"wrapConversion");Fr.exports=function(t){let e=Ci(t),r={},n=Object.keys(e);for(let i=n.length,o=0;o<i;o++){let a=n[o];e[a].parent!==null&&(r[a]=Ri(a,e))}return r}});var qr=A((Xf,Vr)=>{"use strict";var ot=st(),Ii=Dr(),pe={},Bi=Object.keys(ot);function ji(t){let e=s(function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}s(ji,"wrapRaw");function Li(t){let e=s(function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let o=i.length,a=0;a<o;a++)i[a]=Math.round(i[a]);return i},"wrappedFn");return"conversion"in t&&(e.conversion=t.conversion),e}s(Li,"wrapRounded");Bi.forEach(t=>{pe[t]={},Object.defineProperty(pe[t],"channels",{value:ot[t].channels}),Object.defineProperty(pe[t],"labels",{value:ot[t].labels});let e=Ii(t);Object.keys(e).forEach(n=>{let i=e[n];pe[t][n]=Li(i),pe[t][n].raw=ji(i)})});Vr.exports=pe});var Xr=A((Yf,Hr)=>{"use strict";var Ur=s((t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,"wrapAnsi16"),Gr=s((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},"wrapAnsi256"),zr=s((t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},"wrapAnsi16m"),Le=s(t=>t,"ansi2ansi"),Wr=s((t,e,r)=>[t,e,r],"rgb2rgb"),me=s((t,e,r)=>{Object.defineProperty(t,e,{get:s(()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},"get"),enumerable:!0,configurable:!0})},"setLazyProperty"),at,de=s((t,e,r,n)=>{at===void 0&&(at=qr());let i=n?10:0,o={};for(let[a,l]of Object.entries(at)){let c=a==="ansi16"?"ansi":a;a===e?o[c]=t(r,i):typeof l=="object"&&(o[c]=t(l[e],i))}return o},"makeDynamicStyles");function Fi(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,o]of Object.entries(n))e[i]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},n[i]=e[i],t.set(o[0],o[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",me(e.color,"ansi",()=>de(Ur,"ansi16",Le,!1)),me(e.color,"ansi256",()=>de(Gr,"ansi256",Le,!1)),me(e.color,"ansi16m",()=>de(zr,"rgb",Wr,!1)),me(e.bgColor,"ansi",()=>de(Ur,"ansi16",Le,!0)),me(e.bgColor,"ansi256",()=>de(Gr,"ansi256",Le,!0)),me(e.bgColor,"ansi16m",()=>de(zr,"rgb",Wr,!0)),e}s(Fi,"assembleStyles");Object.defineProperty(Hr,"exports",{enumerable:!0,get:Fi})});var Yr=A((Zf,Jr)=>{"use strict";Jr.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Qr=A((Qf,Zr)=>{"use strict";var Di=Ae("os"),Kr=Ae("tty"),$=Yr(),{env:S}=process,Q;$("no-color")||$("no-colors")||$("color=false")||$("color=never")?Q=0:($("color")||$("colors")||$("color=true")||$("color=always"))&&(Q=1);"FORCE_COLOR"in S&&(S.FORCE_COLOR==="true"?Q=1:S.FORCE_COLOR==="false"?Q=0:Q=S.FORCE_COLOR.length===0?1:Math.min(parseInt(S.FORCE_COLOR,10),3));function lt(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}s(lt,"translateLevel");function ct(t,e){if(Q===0)return 0;if($("color=16m")||$("color=full")||$("color=truecolor"))return 3;if($("color=256"))return 2;if(t&&!e&&Q===void 0)return 0;let r=Q||0;if(S.TERM==="dumb")return r;if(process.platform==="win32"){let n=Di.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in S)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in S)||S.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in S)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(S.TEAMCITY_VERSION)?1:0;if(S.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in S){let n=parseInt((S.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(S.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(S.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(S.TERM)||"COLORTERM"in S?1:r}s(ct,"supportsColor");function Vi(t){let e=ct(t,t&&t.isTTY);return lt(e)}s(Vi,"getSupportLevel");Zr.exports={supportsColor:Vi,stdout:lt(ct(!0,Kr.isatty(1))),stderr:lt(ct(!0,Kr.isatty(2)))}});var tn=A((th,en)=>{"use strict";var qi=s((t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,o=0,a="";do a+=t.substr(o,n-o)+e+r,o=n+i,n=t.indexOf(e,o);while(n!==-1);return a+=t.substr(o),a},"stringReplaceAll"),Ui=s((t,e,r,n)=>{let i=0,o="";do{let a=t[n-1]==="\r";o+=t.substr(i,(a?n-1:n)-i)+e+(a?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return o+=t.substr(i),o},"stringEncaseCRLFWithFirstIndex");en.exports={stringReplaceAll:qi,stringEncaseCRLFWithFirstIndex:Ui}});var an=A((nh,on)=>{"use strict";var Gi=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,rn=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,zi=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Wi=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Hi=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function sn(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):Hi.get(t)||t}s(sn,"unescape");function Xi(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let o of n){let a=Number(o);if(!Number.isNaN(a))r.push(a);else if(i=o.match(zi))r.push(i[2].replace(Wi,(l,c,u)=>c?sn(c):u));else throw new Error(`Invalid Chalk template style argument: ${o} (in style '${t}')`)}return r}s(Xi,"parseArguments");function Ji(t){rn.lastIndex=0;let e=[],r;for(;(r=rn.exec(t))!==null;){let n=r[1];if(r[2]){let i=Xi(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}s(Ji,"parseStyle");function nn(t,e){let r={};for(let i of e)for(let o of i.styles)r[o[0]]=i.inverse?null:o.slice(1);let n=t;for(let[i,o]of Object.entries(r))if(Array.isArray(o)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=o.length>0?n[i](...o):n[i]}return n}s(nn,"buildStyle");on.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(Gi,(o,a,l,c,u,d)=>{if(a)i.push(sn(a));else if(c){let m=i.join("");i=[],n.push(r.length===0?m:nn(t,r)(m)),r.push({inverse:l,styles:Ji(c)})}else if(u){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(nn(t,r)(i.join(""))),i=[],r.pop()}else i.push(d)}),n.push(i.join("")),r.length>0){let o=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(o)}return n.join("")}});var ne=A((sh,dn)=>{"use strict";var Ne=Xr(),{stdout:pt,stderr:mt}=Qr(),{stringReplaceAll:Yi,stringEncaseCRLFWithFirstIndex:Ki}=tn(),{isArray:Fe}=Array,cn=["ansi","ansi","ansi256","ansi16m"],fe=Object.create(null),Zi=s((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=pt?pt.level:0;t.level=e.level===void 0?r:e.level},"applyOptions"),dt=class{static{s(this,"ChalkClass")}constructor(e){return un(e)}},un=s(t=>{let e={};return Zi(e,t),e.template=(...r)=>mn(e.template,...r),Object.setPrototypeOf(e,De.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=dt,e.template},"chalkFactory");function De(t){return un(t)}s(De,"Chalk");for(let[t,e]of Object.entries(Ne))fe[t]={get(){let r=Ve(this,ft(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};fe.visible={get(){let t=Ve(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var pn=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of pn)fe[t]={get(){let{level:e}=this;return function(...r){let n=ft(Ne.color[cn[e]][t](...r),Ne.color.close,this._styler);return Ve(this,n,this._isEmpty)}}};for(let t of pn){let e="bg"+t[0].toUpperCase()+t.slice(1);fe[e]={get(){let{level:r}=this;return function(...n){let i=ft(Ne.bgColor[cn[r]][t](...n),Ne.bgColor.close,this._styler);return Ve(this,i,this._isEmpty)}}}}var Qi=Object.defineProperties(()=>{},{...fe,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),ft=s((t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},"createStyler"),Ve=s((t,e,r)=>{let n=s((...i)=>Fe(i[0])&&Fe(i[0].raw)?ln(n,mn(n,...i)):ln(n,i.length===1?""+i[0]:i.join(" ")),"builder");return Object.setPrototypeOf(n,Qi),n._generator=t,n._styler=e,n._isEmpty=r,n},"createBuilder"),ln=s((t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=Yi(e,r.close,r.open),r=r.parent;let o=e.indexOf(`
`);return o!==-1&&(e=Ki(e,i,n,o)),n+e+i},"applyStyle"),ut,mn=s((t,...e)=>{let[r]=e;if(!Fe(r)||!Fe(r.raw))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let o=1;o<r.length;o++)i.push(String(n[o-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[o]));return ut===void 0&&(ut=an()),ut(t,i.join(""))},"chalkTag");Object.defineProperties(De.prototype,fe);var qe=De();qe.supportsColor=pt;qe.stderr=De({level:mt?mt.level:0});qe.stderr.supportsColor=mt;dn.exports=qe});var hn=A((ah,fn)=>{"use strict";fn.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var yn=A((lh,gn)=>{"use strict";var es=hn();gn.exports=t=>typeof t=="string"?t.replace(es(),""):t});var Pn=A(Nn=>{"use strict";var vt=class t{static{s(this,"t")}constructor(e){this.compare=e,this.heapArray=[],this._limit=0}static getChildrenIndexOf(e){return[2*e+1,2*e+2]}static getParentIndexOf(e){if(e<=0)return-1;let r=e%2?1:2;return Math.floor((e-r)/2)}push(e){return this._sortNodeUp(this.heapArray.push(e)-1),!0}length(){return this.heapArray.length}peek(){return this.heapArray[0]}pop(){let e=this.heapArray.pop();return this.length()>0&&e!==void 0?this.replace(e):e}replace(e){let r=this.heapArray[0];return this.heapArray[0]=e,this._sortNodeDown(0),r}size(){return this.length()}_moveNode(e,r){[this.heapArray[e],this.heapArray[r]]=[this.heapArray[r],this.heapArray[e]]}_sortNodeDown(e){let r=e<this.heapArray.length-1,n=this.heapArray[e],i=s((o,a)=>(this.heapArray.length>a&&this.compare(this.heapArray[a],this.heapArray[o])<0&&(o=a),o),"s");for(;r;){let o=t.getChildrenIndexOf(e),a=o.reduce(i,o[0]),l=this.heapArray[a];l!==void 0&&this.compare(n,l)>0?(this._moveNode(e,a),e=a):r=!1}}_sortNodeUp(e){let r=e>0;for(;r;){let n=t.getParentIndexOf(e);n>=0&&this.compare(this.heapArray[n],this.heapArray[e])>0?(this._moveNode(e,n),e=n):r=!1}}};function ss(t,e){return t.prio-e.prio||t.counter-e.counter}s(ss,"e");Nn.Queue=class{constructor(t,e){this.maxConcurrent=t||1,this.minCycle=e||0,this.queueRunning=new Map,this.queueWaiting=new vt(ss),this.lastRun=0,this.nextTimer=null,this.counter=0}tryRun(){for(;this.queueWaiting.size()>0&&this.queueRunning.size<this.maxConcurrent;){if(Date.now()-this.lastRun<this.minCycle)return void(this.nextTimer===null&&(this.nextTimer=new Promise(e=>setTimeout(()=>{this.nextTimer=null,this.tryRun(),e()},this.minCycle-Date.now()+this.lastRun))));let t=this.queueWaiting.pop();if(t!==void 0){let e,r={wait:new Promise(i=>{e=i}),signal:e},n={hash:t.hash,prio:t.prio,finish:r};if(this.queueRunning.has(t.hash))throw new Error("async-await-queue: duplicate hash "+t.hash);this.queueRunning.set(t.hash,n),this.lastRun=Date.now(),t.start.signal()}}}end(t){let e=this.queueRunning.get(t);if(e===void 0)throw new Error("async-await-queue: queue desync for "+t);this.queueRunning.delete(t),e.finish.signal(),this.tryRun()}async wait(t,e){let r=e??0,n,i=new Promise(a=>{n=a}),o={hash:t,prio:r,start:{signal:n,wait:i},counter:this.counter++};this.queueWaiting.push(o),this.tryRun(),await i,this.lastRun=Date.now()}run(t,e){let r=e??0,n=Symbol();return this.wait(n,r).then(t).finally(()=>{this.end(n)})}stat(){return{running:this.queueRunning.size,waiting:this.queueWaiting.size(),last:this.lastRun}}async flush(t){for(;this.queueRunning.size>0||this.queueWaiting.size()>0;){let e=this.queueWaiting.peek();if(e&&await e.start.wait,t!==void 0&&this.queueWaiting.size()<t)return;this.queueRunning.size>0&&await this.queueRunning.values().next().value.finish.wait}}}});var Dn=Object.defineProperty,Vn=s((t,e,r)=>e in t?Dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),He=s((t,e,r)=>(Vn(t,typeof e!="symbol"?e+"":e,r),r),"__publicField");function qn(){return{read(){let t="",e=process.stdin,r=e.readableEncoding??void 0;e.setEncoding("utf8");let n=s(i=>{t+=i},"onData");return e.on("data",n),new Promise(i=>{e.once("end",()=>{e.removeListener("data",n),e.setEncoding(r),i(t)})})},getIterator(){let t=!1,e=[],r=[],n=process.stdin,i=s(a=>{let l=e.shift();l?l(a):r.push(a)},"onData"),o=s(()=>{t=!0,n.removeListener("data",i),e.splice(0,e.length).forEach(a=>a(r.shift()))},"onEnd");return n.on("data",i),n.once("end",o),{done(){return t&&!r.length},next(){return r.length?Promise.resolve(r.shift()):t?Promise.resolve("done"):new Promise(a=>{e.push(l=>a(l||"done"))})}}}}}s(qn,"defaultStdinReader");function Un(){return process.argv.slice(2)}s(Un,"defaultArgGetter");function Gn(t,e){switch(t){case"info":console.log(...e);break;case"error":console.error(...e);break;case"warning":console.warn(...e);break}}s(Gn,"defaultLogger");var O=class{static{s(this,"ClifyGlobals")}static setArgGetter(t){this.argGetter=t}static setLogger(t){this.logger=t}static setStdinReader(t){this.getStdinReader=t}static getArgs(){return this.argGetter()}static err(...t){this.logger("error",t)}static log(...t){this.logger("info",t)}static warn(...t){this.logger("warning",t)}static getStdin(){return this.getStdinReader()}};He(O,"getStdinReader",qn);He(O,"argGetter",Un);He(O,"logger",Gn);var Et=O;var zn=Object.defineProperty,Wn=s((t,e,r)=>e in t?zn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Hn=s((t,e,r)=>(Wn(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),Te=class extends Error{static{s(this,"OptionError")}constructor(t,e){super(t),this.optionName=e,Hn(this,"customMessage")}toPrintable(){return`${this.customMessage??this.message}: ${this.optionName}`}},W=class extends Te{static{s(this,"InvalidOptionError")}constructor(t,e,r,n){super(r?`Invalid option, expected '${r}', but received '${e}'`:"Invalid option",t),this.received=e,this.expected=r,this.customMessage=n,this.name="InvalidOptionError"}},Ot=class extends Te{static{s(this,"UnspecifiedOptionError")}constructor(t){super("Unspecified option",t),this.optionName=t,this.name="UnspecifiedOptionError"}};function Ee(t,e,r){if(Array.isArray(e)){if(!Array.isArray(t)){let i=Ee(t,e[0],r);return typeof i=="object"?i:[i]}let n=[];for(let i of t){let o=Ee(i,e[0],r);if(typeof o=="object")return o;n.push(o)}return n}else{if(Array.isArray(t))return new W(r,"single value","multiple");switch(e){case"string":return String(t);case"boolean":return typeof t!="boolean"?new W(r,"boolean",typeof t):t;case"number":return typeof t!="number"||Number.isNaN(t)?new W(r,"number",typeof t):t;case"int":return typeof t!="number"||Number.isNaN(t)?new W(r,"integer",typeof t):Number.isInteger(t)?t:new W(r,"integer","float");case"unknown":return t}}throw Error("unreachable")}s(Ee,"convertOptionValue");var Xn=Object.defineProperty,Jn=s((t,e,r)=>e in t?Xn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Ce=s((t,e,r)=>(Jn(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),Xe=Symbol("default_category"),Yn=class xt{static{s(this,"_Opt")}constructor(e){this.command=e,Ce(this,"initParams"),Ce(this,"_value"),Ce(this,"_isSet",!1),Ce(this,"_default"),this.initParams=this.getInitParams()}static define(e){return class extends xt{getInitParams(){return e}}}get value(){return this._isSet?this._value:this._default}get isSet(){return this._isSet}setDefault(e){return this._default=e,this}init(){let e=this.getName(),r=this.command.getParsedArgs();if(this._default=this.initParams.default,this.initParams.name in r){let n=Ee(r[this.initParams.name],this.initParams.type,e);if(n instanceof Te)return n;this._isSet=!0,this._value=n}else if(this.initParams.char!=null&&this.initParams.char in r){this._isSet=!0;let n=Ee(r[this.initParams.char],this.initParams.type,e);if(n instanceof Te)return n;this._isSet=!0,this._value=n}else if(this.initParams.required&&this._default==null)return new Ot(e);return this.validate()}validate(){if(this.initParams.validate&&this._isSet){let e=this.initParams.validate(this.value);return e==="ok"?null:new W(this.getName(),String(this.value),e.expected,e.message)}return null}nameMatches(e){return this.initParams.name===e||e.length===1&&this.initParams.char===e}getName(){return this.initParams.char!=null?`--${this.initParams.name}, -${this.initParams.char}`:`--${this.initParams.name}`}getNameWithType(){if(this.initParams.type==="boolean")return this.initParams.char!=null?`--${this.initParams.name}, -${this.initParams.char}`:`--${this.initParams.name}`;let e;return Array.isArray(this.initParams.type)?e="..."+this.initParams.type[0]:e=this.initParams.type,this.initParams.char!=null?`--${this.initParams.name}, -${this.initParams.char} <${e}>`:`--${this.initParams.name} <${e}>`}getDescription(){return this.initParams.description||""}getCategory(){return this.initParams.category==null?Xe:this.initParams.category}};function $e(t){return Yn.define(t)}s($e,"defineOption");var Kn=Object.defineProperty,Zn=s((t,e,r)=>e in t?Kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Re=s((t,e,r)=>(Zn(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),_t=class{static{s(this,"CmdInputBase")}constructor(t,e={}){this.command=t,this.options=e,Re(this,"argumentInput",null),Re(this,"stdinInput",null),Re(this,"_source",null)}setOptions(t){this.options=t}setArgumentInput(t){this.argumentInput=t,t!=null&&(this._source="argument")}async prepare(){return!(this.argumentInput!=null||this.options.stdin===!1||this.options.stdin==="non-tty-only"&&process.stdin.isTTY)}validate(){return this.argumentInput!=null||this.stdinInput!=null}get(){}getName(){return this.options.name}get source(){return this._source}},Nt=class extends _t{static{s(this,"CmdInput")}async prepare(){if(await super.prepare()){let t=O.getStdin();return this._source="stdin",this.stdinInput=await t.read(),!0}return!1}get(){return this.argumentInput??this.stdinInput??null}},Pt=class extends _t{static{s(this,"CmdInputStream")}constructor(){super(...arguments),Re(this,"stdinIter",null)}async prepare(){if(await super.prepare()){let t=O.getStdin();return this._source="stdin",this.stdinIter=await t.getIterator(),!0}return!1}get(){return this.argumentInput??this.stdinIter??null}};var Qn=Object.defineProperty,ei=s((t,e,r)=>e in t?Qn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),oe=s((t,e,r)=>(ei(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),St=s((t,e)=>t.localeCompare(e),"alphasort"),kt=class Mt{static{s(this,"_Cmd")}constructor(e,r){this.cmdName=e,this.parentCommand=r,oe(this,"ownOptions",[]),oe(this,"ownAction"),oe(this,"subCommands",[]),oe(this,"parsedArgs"),oe(this,"ownInput"),oe(this,"description","")}command(e,r){let n=new Mt(e,this);return n.ownAction=r(n),this.subCommands.push(n),n}option(e){let r=new e(this);return this.ownOptions.push(r),r}input(e){return this.ownInput!=null?(e!=null&&this.ownInput.setOptions(e),this.ownInput):this.ownInput=new Nt(this,e)}inputStream(e){return this.ownInput!=null?(e!=null&&this.ownInput.setOptions(e),this.ownInput):this.ownInput=new Pt(this,e)}setDescription(e){this.description=e}findSubcommand(e){if(e.length===0)return[this,null];let[r]=e,n=this.subCommands.find(i=>i.cmdName===r);return n==null?this.ownInput&&e.length===1?[this,e[0]]:[null,null]:n.findSubcommand(e.slice(1))}getName(){let e=this.parentCommand?.getName();return e!=null?e+" "+this.cmdName:this.cmdName}printHelp(){let e=O.log.bind(O),r=`Usage: ${this.getName()}`,n=0;this.subCommands.length>0&&(n|=1),this.ownInput&&(n|=2),this.ownAction&&(n|=4);let i=this.ownInput?.getName()??"INPUT";switch(n){case 0:case 4:break;case 2:case 6:r+=` ${i}`;break;case 1:r+=" COMMAND";break;case 5:r+=" COMMAND?";break;case 3:r+=` COMMAND|${i}`;break;case 7:r+=` COMMAND|${i}?`;break}this.ownOptions.length>0&&(r+=" [...OPTIONS]");let o=[];if(this.subCommands.length>0){let c=this.subCommands.map(d=>`  ${d.cmdName}`),u=c.reduce((d,m)=>d.length>m.length?d:m,"").length;o=c.map((d,m)=>d.padEnd(u+4)+this.subCommands[m].description).sort(St)}let a=[],l=[];if(this.ownOptions.length>0){let c=Object.groupBy(this.ownOptions,u=>u.getCategory());for(let u of Reflect.ownKeys(c)){let d=c[u],m=d.map(E=>`  ${E.getNameWithType()}`),h=m.reduce((E,ee)=>E.length>ee.length?E:ee,"").length,b=m.map((E,ee)=>E.padEnd(h+4)+d[ee].getDescription()).sort(St);u===Xe?a=b:l.push([u,b])}}if(e(r),this.description&&(e(""),e(this.description)),o.length>0){e(""),e("Commands:");for(let c of o)e(c)}if(a.length>0||l.length>0){e(""),e("Options:");for(let c of a)e(c);for(let[c,u]of l){e(""),e(c+":");for(let d of u)e(d)}}}printUnknownArgsMsg(e){let r=O.err.bind(O);r("Unknown options:"),e.forEach(n=>{n.length===1?r(`  -${n}`):r(`  --${n}`)})}printArgumentErrors(e){let r=O.err.bind(O);r("Invalid options:"),e.forEach(n=>{r(`  ${n.toPrintable()}`)})}async prepare(){if("help"in this.parsedArgs)return this.printHelp(),"skip";let e=Object.keys(this.parsedArgs).filter(i=>i!=="_"&&i!=="__"),r=[];for(let i=0;i<e.length;i++){let o=e[i];this.ownOptions.some(a=>a.nameMatches(o))||r.push(o)}if(r.length>0)return this.printUnknownArgsMsg(r),"fail";let n=[];for(let i=0;i<this.ownOptions.length;i++){let o=this.ownOptions[i].init();o!=null&&n.push(o)}return n.length>0?(this.printArgumentErrors(n),"fail"):this.ownInput?(await this.ownInput.prepare(),this.ownInput.validate()?"ok":"fail"):"ok"}runAction(){return this.ownAction==null?(O.warn("Nothing to do."),Promise.resolve(new Error("Nothing to do."))):this.ownAction()}getParsedArgs(){return this.parsedArgs}async start(e,r){this.parsedArgs=e,this.ownInput?.setArgumentInput(r);let n=await this.prepare();if(n==="ok")return this.runAction();if(n==="fail")return Promise.resolve(new Error("Command failed"))}};var It=G(Rt(),1);var Bt=class{static{s(this,"ClifyProgram")}constructor(t){this.mainCommand=t}init(t,e){return t!=null?{_:t.split(" "),...e}:(0,It.default)(O.getArgs())}findCommand(t){return this.mainCommand.findSubcommand(t)}run(t,e){let r=this.init(t,e);if(r.version)return this.mainCommand.printVersionInfo(),Promise.resolve();let[n,i]=this.findCommand(r._);if(n==null){let o=`Unknown command: ${r._.join(" ")}`;return O.err(o),Promise.resolve(new Error(o))}return n.start(r,i)}};function jt(t,e){if(t instanceof Promise)throw new Error(`'${e}' cannot be asynchronous.`)}s(jt,"assertNotAsync");var ri=Object.defineProperty,ni=s((t,e,r)=>e in t?ri(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Lt=s((t,e,r)=>(ni(t,typeof e!="symbol"?e+"":e,r),r),"__publicField"),ii=class extends kt{static{s(this,"MainCmd")}constructor(){super(...arguments),Lt(this,"version"),Lt(this,"programName")}printVersionInfo(){let t="";this.programName!=null&&(t=`${this.programName} `),this.version!=null&&(t+=`${this.version} `),O.log(t)}setVersion(t){this.version=t}setName(t){this.programName=t}main(t){this.ownAction=t(this)}getName(){return this.programName??""}};function Ft(t){let e=new ii("");return jt(t(e),"configureCallback"),new Bt(e)}s(Ft,"configure");var si={Clify:Et,configure:Ft,defineOption:$e},Dt=si;var Vt=$e({char:"p",name:"package-manager",type:"string",required:!0});import ce from"fs/promises";import rt from"path";import Nr from"fs/promises";import xi from"path";var L=s(t=>typeof t=="object"&&!(Je in t),"isFieldDescriptor");var oi=Object.defineProperty,qt=Object.getOwnPropertySymbols,ai=Object.prototype.hasOwnProperty,li=Object.prototype.propertyIsEnumerable,Ut=s((t,e,r)=>e in t?oi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Ye=s((t,e)=>{for(var r in e||(e={}))ai.call(e,r)&&Ut(t,r,e[r]);if(qt)for(var r of qt(e))li.call(e,r)&&Ut(t,r,e[r]);return t},"__spreadValues"),Je=Symbol(),N=Symbol("metadata"),I={Unknown:"unknown",String:"string",Number:"number",Int:"integer",Boolean:"boolean",Symbol:"symbol",Function:"function",Null:"null",Undefined:"undefined",StringNumeral:"stringnumeral",StringInt:"stringinteger"},Gt,zt,P=class{static{s(this,"BaseDataType")}constructor(){this[Gt]={},this[zt]=!0}static getMetadata(t){return Ye({},t[N])}static getOriginalMetadata(t){return t[N]}copy(){let t=Object.getPrototypeOf(this),e=Object.create(t);return Object.assign(e,this),e[N]=Ye({},this[N]),e}setDescription(t){return this[N].description=t,this}setTitle(t){return this[N].title=t,this}setFormat(t){return this[N].format=t,this}setExtra(t){return this[N].extra=t,this}};Gt=N,zt=Je;var B=class extends P{static{s(this,"SimpleDataType")}constructor(t){super(),this.simpleType=t,this.kind="simple",Object.freeze(this)}_acceptVisitor(t){return t.visit(this)}},te=class extends P{static{s(this,"RecordOf")}constructor(t){super(),this.recordOf=t,this.kind="record",this.keys=Object.keys(this.recordOf);for(let e=0;e<this.keys.length;e++){let r=this.keys[e],n=this.recordOf[r];L(n)&&Object.freeze(n)}Object.freeze(this.keys),Object.freeze(this.recordOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.keys.length;r++){let n=this.keys[r],i=this.recordOf[n],o=L(i)?Ye({required:!0},i):{type:i,required:!0};e.push({_isRecordOfVisitChild:!0,child:o.type._acceptVisitor(t),propertyName:n,required:!!o.required})}return t.visit(this,e)}},Wt=class extends P{static{s(this,"ArrayOf")}constructor(t){super(),this.arrayOf=t,this.kind="array",Object.freeze(this.arrayOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.arrayOf.length;r++)e.push(this.arrayOf[r]._acceptVisitor(t));return t.visit(this,e)}},ci=class extends P{static{s(this,"Tuple")}constructor(t){super(),this.tuple=t,this.kind="tuple",Object.freeze(this.tuple),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.tuple.length;r++)e.push(this.tuple[r]._acceptVisitor(t));return t.visit(this,e)}},Ht=class extends P{static{s(this,"Dict")}constructor(t){super(),this.dict=t,this.kind="dictionary",Object.freeze(this.dict),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.dict.length;r++)e.push(this.dict[r]._acceptVisitor(t));return t.visit(this,e)}},Xt=class extends P{static{s(this,"SetOf")}constructor(t){super(),this.setOf=t,this.kind="set",Object.freeze(this.setOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.setOf.length;r++)e.push(this.setOf[r]._acceptVisitor(t));return t.visit(this,e)}},Ie=class extends P{static{s(this,"OneOf")}constructor(t){super(),this.oneOf=t,this.kind="union",Object.freeze(this.oneOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.oneOf.length;r++)e.push(this.oneOf[r]._acceptVisitor(t));return t.visit(this,e)}},Jt=class extends P{static{s(this,"AllOf")}constructor(t){super(),this.allOf=t,this.kind="intersection",Object.freeze(this.allOf),Object.freeze(this)}_acceptVisitor(t){let e=[];for(let r=0;r<this.allOf.length;r++)e.push(this.allOf[r]._acceptVisitor(t));return t.visit(this,e)}},Yt=class extends P{static{s(this,"Literal")}constructor(t){super(),this.literal=t,this.kind="literal",Object.freeze(this)}_acceptVisitor(t){return t.visit(this)}},Kt,Ke=class extends P{static{s(this,"Enum")}constructor(t){super(),this[Kt]={},this.kind="enumUnion",this.enumInstance=t,Object.freeze(this)}static getOriginalMetadata(t){return t[N]}setEnumName(t){return this[N].enumName=t,this}_acceptVisitor(t){return t.visit(this)}};Kt=N;var Zt,Ze=class extends P{static{s(this,"EnumMember")}constructor(t){super(),this.enumMember=t,this[Zt]={},this.kind="enumMember",Object.freeze(this)}static getOriginalMetadata(t){return t[N]}setEnumName(t){return this[N].enumName=t,this}setMemberName(t){return this[N].memberName=t,this}_acceptVisitor(t){return t.visit(this)}};Zt=N;var ui=class extends P{static{s(this,"InstanceOf")}constructor(t){super(),this.instanceOf=t,this.kind="instanceOf",Object.freeze(this)}_acceptVisitor(t){return t.visit(this)}},Qt=class extends P{static{s(this,"Custom")}constructor(t){super(),this.custom=t,this.kind="custom",Object.freeze(this)}_acceptVisitor(t){return t.visit(this)}},er,tr=class extends P{static{s(this,"StringMatching")}constructor(t){super(),this.pattern=t,this[er]={},this.kind="stringMatching",Object.freeze(this)}static getOriginalMetadata(t){return t[N]}_acceptVisitor(t){return t.visit(this)}setTsPattern(t){return this[N].tsPattern=t,this}};er=N;var pi=class extends P{static{s(this,"CircularRef")}constructor(t){super(),this.parent=t,this.kind="circularRef"}get type(){return this.parent.type}_getReferencedType(){return this.parent.type}_acceptVisitor(t){return t.visit(this)}},mi=class extends P{static{s(this,"Circular")}constructor(t){super(),this.kind="circular",this.type=t(new pi(this))}_acceptVisitor(t){let e=this.type._acceptVisitor(t);return t.visit(this,[e])}},z={get Unknown(){return new B(I.Unknown)},get String(){return new B(I.String)},get Number(){return new B(I.Number)},get Int(){return new B(I.Int)},get Boolean(){return new B(I.Boolean)},get Symbol(){return new B(I.Symbol)},get Function(){return new B(I.Function)},get Null(){return new B(I.Null)},get Undefined(){return new B(I.Undefined)},get StringNumeral(){return new B(I.StringNumeral)},get StringInt(){return new B(I.StringInt)},RecordOf(t){return new te(t)},Dict(...t){return new Ht(t)},ArrayOf(...t){return new Wt(t)},Tuple(...t){return new ci(t)},SetOf(...t){return new Xt(t)},OneOf(...t){return new Ie(t)},AllOf(...t){return new Jt(t)},Literal(t){return new Yt(t)},EnumMember(t){return new Ze(t)},Enum(t){return new Ke(t)},InstanceOf(t){return new ui(t)},Custom(t){return new Qt(t)},StringMatching(t){return new tr(t)},Circular(t){return new mi(t)}};var di=new Set(["Array","Set","Map","Promise","Date","RegExp","Error","Symbol","Function","Object","Boolean","Number","String","Record","any","unknown","never","void","null","undefined","boolean","number","string","bigint","symbol"]),Oe=class{static{s(this,"NameGenerator")}static generate(t){di.has(t)&&(t=t+"Type");let e=this.names.get(t);return e===void 0?(this.names.set(t,1),t):(this.names.set(t,e+1),t+e.toString())}static clear(){this.names.clear()}};Oe.names=new Map;var f=class{static{s(this,"TemplateBuilder")}constructor(t){this.template=t}build(t){let e=this.template;for(let[r,n]of Object.entries(t))e=e.replace(`{{${r}}}`,n);return e}};var La=new f("Array<{{types}}>"),Fa=new f(`{{description}}
{{export}}type {{name}} = Array<{{types}}>;`);var Ga=new f("Record<string | number, {{type}}>"),za=new f(`{{description}}
{{export}}type {{name}} = Record<string | number, {{type}}>`);var Ya=new f(`{{description}}
{{export}}type {{name}} = {{type}};`);var tl=new f(`{{description}}
{{export}}type {{name}} = {{type}};`);var ol=new f(`{{description}}
{{export}}type {{alias}} = {{refName}};`);var pl=new f("InstanceType<typeof {{type}}>"),ml=new f(`{{description}}
{{export}}type {{name}} = InstanceType<typeof {{type}}>`);var yl=new f("{{types}}"),bl=new f(`{{description}}
{{export}}type {{name}} = {{types}};`);var Ol=new f(`{{description}}
{{export}}type {{name}} = {{type}};`);var Cl=new f(`{
{{properties}}
}`),$l=new f(`{{extends}} & {
{{properties}}
}`),Rl=new f(`{{description}}
{{export}}type {{name}} = {
{{properties}}
};`),Il=new f(`{{description}}
{{export}}type {{name}} = {{extends}} & {
{{properties}}
};`);var Dl=new f("Set<{{types}}>"),Vl=new f(`{{description}}
{{export}}type {{name}} = Set<{{types}}>;`);var Wl=new f(`{{description}}
{{export}}type {{name}} = boolean;`);var Kl=new f(`{{description}}
{{export}}type {{name}} = (...args: any[]) => unknown;`);var rc=new f(`{{description}}
{{export}}type {{name}} = null;`);var ac=new f(`{{description}}
{{export}}type {{name}} = number;`);var mc=new f(`{{description}}
{{export}}type {{name}} = string;`);var yc=new f(`{{description}}
{{export}}type {{name}} = symbol;`);var Ec=new f(`{{description}}
{{export}}type {{name}} = undefined;`);var Pc=new f(`{{description}}
{{export}}type {{name}} = unknown;`);var Bc=new f(`{{description}}
{{export}}type {{name}} = {{type}};`);var Vc=new f("[{{types}}]"),qc=new f(`{{description}}
{{export}}type {{name}} = [{{types}}];`);var Hc=new f("{{types}}"),Xc=new f(`{{description}}
{{export}}type {{name}} = {{types}};`);var rp=eval,np=`
    const _$every = (_$arr, _$predicate) => {
      for (let _$i = 0; _$i < _$arr.length; _$i++) {
        if (!_$predicate(_$arr[_$i]))
          return false;
      }
      return true;
    };
`.trim(),ip=`
    const _$everyInSet = (_$set, _$predicate) => {
      for (let _$item of _$set) {
        if (!_$predicate(_$item))
          return false;
      }
      return true;
    };
`.trim(),sp=`
    const _$everyObjectValue = (_$obj, _$predicate) => {
      for (let _$key in _$obj) {
        if (!_$predicate(_$obj[_$key]))
          return false;
      }
      return true;
    };
`.trim(),op=`
    const _$STRING_NUMERAL_ALLOWED_CHARS = ["0","1","2","3","4","5","6","7","8","9","."];
    const _$validateStringNumeral = (_$d) => typeof _$d === "string" &&
        _$d.length !== 0 &&
        _$d.split(".").length < 3 &&
        _$every(_$d, (_$char) => _$STRING_NUMERAL_ALLOWED_CHARS.includes(_$char));
`.trim(),ap=`
    const _$STRING_INTEGER_ALLOWED_CHARS = ["0","1","2","3","4","5","6","7","8","9"];
    const _$validateStringInteger = (_$d) => typeof _$d === "string" &&
        _$d.length !== 0 &&
        _$every(_$d, (_$char) => _$STRING_INTEGER_ALLOWED_CHARS.includes(_$char));
`.trim(),lp=`
    const _$validatedCircularValues = new Map();
    const _$wasCircValidated = (_$tn, _$d) => {
      let _$set = _$validatedCircularValues.get(_$tn);
      if (!_$set) {
        _$set = new Set([_$d]);
        _$validatedCircularValues.set(_$tn, _$set);
        return false;
      }
      if (_$set.has(_$d)) {
        return true;
      }
      _$set.add(_$d);
      return false;
    };
`.trim();var H=class{static{s(this,"Path")}static init(t){let e=new H;return e.part=t,e}concat(t){let e=new H;return e.previous=this,e.part=t,e}flatten(){let t=[],e=this;for(;e;)t.push(e.part.toString()),e=e.previous;return t.reverse()}};var ae=new Map,Qe=s((t,e)=>{let r=ae.get(t);return r?r.has(e)?!0:(r.add(e),!1):(r=new Set([e]),ae.set(t,r),!1)},"wasCircValidated");var rr=s((t,e,r)=>{for(let n=0;n<e.allOf.length;n++){let i=e.allOf[n];k.get(i.kind)(t,i,r)}},"validateAllOf");var hi=s((t,e)=>(e=e.toString(),/^[0-9]+$/.test(e)?`${t}[${e}]`:/[^a-zA-Z0-9]/.test(e)?`${t}["${e.replace(/"/g,'\\"')}"]`:`${t}.${e}`),"concatPathSegments"),nr=s(t=>{var e;return t.slice(1).reduce(hi,(e=t[0])!=null?e:"")},"concatPath");var ir=Symbol("ValidationError"),sr,y=class extends TypeError{static{s(this,"ValidationError")}constructor(t,e,r,n){super(n??"Value does not conform the data type structure definition."),this[sr]=!0,this.fieldPathCache=null,this.expectedValueType=e,this.path=t,this.receivedValue=r}static isValidationError(t){return typeof t=="object"&&t!==null&&t instanceof Error&&ir in t}get fieldPath(){return this.fieldPathCache==null&&(this.fieldPathCache=nr(this.path.flatten())),this.fieldPathCache}};sr=ir;var X=s((t,e,r)=>{if(e.oneOf.length===1){let n=e.oneOf[0];return k.get(n.kind)(t,n,r)}for(let n=0;n<e.oneOf.length;n++)try{let i=e.oneOf[n];k.get(i.kind)(t,i,r);return}catch{continue}throw new y(t,e,r)},"validateOneOf");var or=s((t,e,r)=>{if(!Array.isArray(r))throw new y(t,e,r);let n=z.OneOf(...e.arrayOf);for(let i=0;i<r.length;i++)X(t.concat(i),n,r[i])},"validateArray");var ar=s((t,e,r)=>{if(Qe(e,r))return;let n=e.type;return k.get(n.kind)(t,n,r)},"validateCircular"),lr=s((t,e,r)=>{if(Qe(e._getReferencedType(),r))return;let n=e._getReferencedType();return k.get(n.kind)(t,n,r)},"validateCircularRef");var cr=s((t,e,r)=>{if(!e.custom(r))throw new y(t,e,r)},"validateCustom");var ur=s((t,e,r)=>{if(typeof r!="object"||r===null||Array.isArray(r))throw new y(t,e,r);let n=Object.keys(r),i=z.OneOf(...e.dict);for(let o=0;o<n.length;o++){let a=n[o];X(t.concat(a),i,r[a])}},"validateDict");var pr=s((t,e,r)=>{let n=Object.keys(e.enumInstance);for(let i=0;i<n.length;i++){let o=n[i],a=e.enumInstance[o];if(Number.isNaN(Number(o))&&a===r)return}throw new y(t,e,r)},"validateEnum");var mr=s((t,e,r)=>{if(e.enumMember!==r)throw new y(t,e,r)},"validateEnumMember");var dr=s((t,e,r)=>{if(typeof r!="object"||r===null)throw new y(t,e,r);if(!(r instanceof e.instanceOf))throw new y(t,e,r)},"validateInstanceOf");var fr=s((t,e,r)=>{if(e.literal!==r)throw new y(t,e,r)},"validateLiteral");var gi=new Set(["0","1","2","3","4","5","6","7","8","9"]),hr=s((t,e)=>{let r=s(()=>{throw new y(t,"stringinteger",e)},"throwError");typeof e!="string"&&r();for(let n=0;n<e.length;n++)gi.has(e[n])||r();e.length===0&&r()},"validateStringInteger");var yi=new Set(["0","1","2","3","4","5","6","7","8","9","."]),gr=s((t,e)=>{let r=s(()=>{throw new y(t,"stringnumeral",e)},"throwError");typeof e!="string"&&r();for(let n=0;n<e.length;n++)yi.has(e[n])||r();e.split(".").length>2&&r(),e.length===0&&r()},"validateStringNumeral");var yr=s((t,e,r)=>{let n=e.simpleType,i=s(()=>{throw new y(t,n,r)},"throwError");if(n==="number")return typeof r!="number"||Number.isNaN(r)?i():void 0;if(n==="integer")return typeof r!="number"||!Number.isInteger(r)?i():void 0;if(typeof r!==n){if(n==="stringnumeral")return gr(t,r);if(n==="stringinteger")return hr(t,r);n!=="unknown"&&(n==="null"&&r===null||i())}},"validatePrimitive");var bi=Object.defineProperty,br=Object.getOwnPropertySymbols,vi=Object.prototype.hasOwnProperty,wi=Object.prototype.propertyIsEnumerable,vr=s((t,e,r)=>e in t?bi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Ti=s((t,e)=>{for(var r in e||(e={}))vi.call(e,r)&&vr(t,r,e[r]);if(br)for(var r of br(e))wi.call(e,r)&&vr(t,r,e[r]);return t},"__spreadValues"),wr=s((t,e,r)=>{if(typeof r!="object"||r===null||Array.isArray(r)||r[Symbol.toStringTag]==="Set")throw new y(t,e,r);let n=e.keys;for(let i=0;i<n.length;i++){let o=n[i],a=e.recordOf[o],c=L(a)?Ti({required:!0},a):{type:a,required:!0};if(!(o in r)){if(c.required!==!0)continue;throw new y(t.concat(o),e,void 0)}let u=r[o];u===void 0&&c.required!==!0||k.get(c.type.kind)(t.concat(o),c.type,u)}},"validateRecord");var Tr=s((t,e,r)=>{if(!(typeof r=="object"&&r!==null&&r[Symbol.toStringTag]==="Set"))throw new y(t,e,r);let n=z.OneOf(...e.setOf);for(let i of r)X(t.concat("SET_ELEMENT"),n,i)},"validateSet");var Er=s((t,e,r)=>{if(typeof r!="string"||!e.pattern.test(r))throw new y(t,e,r)},"validateStringMatching");var Or=s((t,e,r)=>{if(!Array.isArray(r)||r.length!==e.tuple.length)throw new y(t,e,r);for(let n=0;n<e.tuple.length;n++){let i=r[n],o=e.tuple[n];k.get(o.kind)(t.concat(n),o,i)}},"validateTuple");var k=new Map([["simple",yr],["array",or],["tuple",Or],["record",wr],["dictionary",ur],["union",X],["intersection",rr],["literal",fr],["enumMember",mr],["enumUnion",pr],["set",Tr],["instanceOf",dr],["custom",cr],["stringMatching",Er],["circular",ar],["circularRef",lr]]);var Ei=H.init("$"),xr=s((t,e,r)=>s(i=>{try{return k.get(t.kind)(Ei,t,i),e(i)}catch(o){return r?r(o,i):void 0}finally{ae.clear()}},"caller"),"createTypeGuardedFunction"),et=xr;var nd=H.init("$");var cd=H.init("$");var T=z;var tt=T.OneOf(T.String,T.ArrayOf(T.RecordOf({name:T.String,script:T.String,mustRunAlone:{type:T.Boolean,required:!1}}),T.RecordOf({name:T.String,taskFile:T.String,mustRunAlone:{type:T.Boolean,required:!1}}))),Oi=T.RecordOf({packageManager:T.OneOf(T.Literal("yarn"),T.Literal("npm"),T.Literal("bun")),parallel:{required:!1,type:T.OneOf(T.Boolean,T.RecordOf({"pre-push":{required:!1,type:T.Boolean},"pre-commit":{required:!1,type:T.Boolean},"post-commit":{required:!1,type:T.Boolean}}))},parallelPoolSize:{required:!1,type:T.Number},hooks:{required:!1,type:T.RecordOf({"pre-push":{required:!1,type:tt},"pre-commit":{required:!1,type:tt},"post-commit":{required:!1,type:tt}})}}),_r=et(Oi,t=>t,t=>{throw new Error(`Config file incorrect. Option '${t.fieldPath}' is not of the expected type.`)});var J="git-hook-tasks.config.json",le=s(async t=>{if(!(await Nr.readdir(t)).includes(J))throw new Error("Config file not found!");let r=JSON.parse(await Nr.readFile(xi.resolve(t,J),{encoding:"utf-8"}));return _r(r)},"readConfig");var Pr=s(async(t,e)=>{(await ce.readdir(t)).includes(J)||await ce.writeFile(rt.resolve(t,J),`{
  "packageManager": "${e}",
  "hooks": {
    "pre-push": [],
    "pre-commit": [],
    "post-commit": []
  }
}
`);let n=rt.resolve(t,".vscode"),i=rt.resolve(n,"settings.json");await ce.mkdir(n,{recursive:!0});let o={};if((await ce.readdir(n)).includes("settings.json")){let l=await ce.readFile(i,{encoding:"utf-8"});o=JSON.parse(l)}o["json.schemas"]||(o["json.schemas"]=[]),o["json.schemas"].some(l=>{if(typeof l=="object"&&l!==null){let u=l.fileMatch;return Array.isArray(u)?u.includes(J):u===J}return!1})||(o["json.schemas"].push({fileMatch:[J],url:"./node_modules/git-hook-tasks/dist/config/json-schema.json"}),await ce.writeFile(i,JSON.stringify(o,null,2)))},"createConfig");var xe=class{constructor(e,r){this.separator=" ";this._isClosed=!1;this._isDeleted=!1;this.manager=e,this.content=r}static{s(this,"OutputEntry")}setSeparator(e,r){let n=this.separator;this.separator=e,this.contentMemo=void 0,r&&n!==e&&this.manager._rerender()}getContent(){return this.contentMemo?this.contentMemo:(this.contentMemo=this.content.filter(e=>e).map(e=>String(e)).join(this.separator).split(`
`).map(e=>new nt(this,e)),this.contentMemo)}update(e){if(!this._isClosed){this.contentMemo=void 0;try{typeof e=="function"?this.content=e(this.content):this.content=e,this.manager._rerender()}catch{}}}delete(){this._isClosed=!0,this._isDeleted=!0,this.contentMemo=void 0,this.content=[],this.manager._rerender()}close(){this._isClosed=!0}get isClosed(){return this._isClosed}get isDeleted(){return this._isDeleted}},nt=class{constructor(e,r){this.entry=e;this.content=r;this.entryClosed=e.isClosed}static{s(this,"OutputLine")}};function Sr(t,e,r={}){let n,i,o,a=null,l=0;r||(r={});let c=s(function(){l=r.leading===!1?0:Date.now(),a=null,o=t.apply(n,i),a||(n=i=null)},"later"),u=s(function(...d){let m=Date.now();!l&&r.leading===!1&&(l=m);let h=e-(m-l);return n=this,i=d,h<=0||h>e?(a&&(clearTimeout(a),a=null),l=m,o=t.apply(n,i),a||(n=i=null)):!a&&r.trailing!==!1&&(a=setTimeout(c,h)),o},"fn");return u.setWait=d=>{e=d},u}s(Sr,"throttle");var kr=Sr(t=>t(),1e3,{leading:!0,trailing:!0}),Be=class{constructor(){this.lines=[];this.firstOpenLineIdx=0}static{s(this,"OutputBuffer")}put(e){let r=!0;for(let n=0;n<e.length;n++){let i=e[n];this.lines.push(i),r&&!i.entryClosed&&(r=!1,this.firstOpenLineIdx=n)}}findFirstDifferentLine(e){let r=Math.max(this.lines.length,e.lines.length);for(let n=this.firstOpenLineIdx;n<r;n++)if(this.lines[n]?.content!==e.lines[n]?.content)return n;return null}lineCount(){return this.lines.length}slice(e){return this.lines.slice(e)}},w=class{static{s(this,"OutputManager")}static{this.outEntries=[]}static{this.currentBuffer=new Be}static replaceStdoutLine(e,r){process.stdout.moveCursor(0,-e),process.stdout.clearLine(0),process.stdout.write("\r"+r+"\r"),process.stdout.moveCursor(0,e)}static{this.isRenderQueued=!1}static _rerender(){this.isRenderQueued||(this.isRenderQueued=!0,setTimeout(()=>{this.isRenderQueued=!1,kr(()=>{let e=new Be;for(let o=0;o<this.outEntries.length;o++){let a=this.outEntries[o];a.isDeleted||e.put(a.getContent())}let r=this.currentBuffer.findFirstDifferentLine(e);if(r===null)return;let n=this.currentBuffer.lineCount()-r,i=e.slice(r);for(let o=n;o>0;o--){let a=i.shift();a!=null?this.replaceStdoutLine(o,a.content):process.stdout.write("\x1B[T\x1B[2K")}for(let o=0;o<i.length;o++){let a=i[o];process.stdout.write(a.content+`
`)}this.currentBuffer=e})},25))}static setMaxFps(e){kr.setWait(Math.max(1,Math.floor(1e3/e)))}static dynamicLine(e,r){let n=new xe(this,e);return this.outEntries.push(n),r!==void 0&&n.setSeparator(r,!1),this._rerender(),n}static staticLine(e,r){let n=new xe(this,e);this.outEntries.push(n),r&&n.setSeparator(r,!1),n.close(),this._rerender()}};import _i from"child_process";var F=s((t,e)=>new Promise((r,n)=>{_i.exec(t,e,(i,o,a)=>i?n(new Error(i.message+`
`+o.toString()+`
`+a.toString(),{cause:i})):r())}),"exec");var D=s(t=>t.map(e=>e.includes(" ")&&e[0]!=='"'&&e[0]!=='"'&&e[0]!=="`"?`"${e}"`:e).join(" "),"parseArgs");var Mr=class ue{static{s(this,"BunPM")}static{this.cwd=process.cwd()}static async execute(...e){return F("bun "+D(e),{cwd:ue.cwd})}static{this.label="bun"}static setCwd(e){ue.cwd=e}static install(e){let r=[];return r.push(e),ue.execute("add",...r)}static installDev(e){let r=["-D"];return r.push(e),ue.execute("add",...r)}static async run(e,...r){return ue.execute("run",e,...r)}static async generateCommand(e,...r){return D(["run",e,...r])}};import Ni from"fs/promises";import Pi from"path";var Ar=class Y{static{s(this,"Npm")}static{this.cwd=process.cwd()}static execute(e){return F(e,{cwd:Y.cwd})}static{this.label="npm"}static setCwd(e){Y.cwd=e}static install(e){let r=["npm","install"];return r.push(e),Y.execute(D(r))}static installDev(e){let r=["npm","install","-D"];return r.push(e),Y.execute(D(r))}static async run(e,...r){return Y.execute(await Y.generateCommand(e,...r))}static async generateCommand(e,...r){let n=Pi.resolve(Y.cwd,"package.json"),i=[];try{let o=await Ni.readFile(n,{encoding:"utf-8"}),a=JSON.parse(o);i.push(...Object.keys(a.scripts??{}))}catch{}if(i.includes(e)){let o=["npm","run",e];return r.length>0&&(o.push("--"),o.push(...r)),D(o)}return D(["npx",e,...r])}};var Cr=class re{static{s(this,"Yarn")}static{this.cwd=process.cwd()}static async execute(e){return F(e,{cwd:re.cwd})}static{this.label="yarn"}static setCwd(e){re.cwd=e}static install(e){let r=[];return r.push(e),re.run("add",...r)}static installDev(e){let r=["-D"];return r.push(e),re.run("add",...r)}static async run(e,...r){return re.execute(await re.generateCommand(e,...r))}static async generateCommand(e,...r){return D(["yarn",e,...r])}};var K=s(t=>{if(t==="yarn")return Cr;if(t==="npm")return Ar;if(t==="bun")return Mr;throw w.staticLine([`Invalid package manager argument: (${t})`]),new Error(`Invalid package manager argument: (${t})`)},"getPackageManager");import $r from"fs/promises";import Si from"os";import it from"path";var ki=Si.platform()==="win32",Z=s(async()=>{let t=it.resolve(__dirname,"..");for(;;){if(ki&&t.length<4||t.length<2)throw new Error("Project root directory not found!");if((await $r.readdir(t)).some(r=>r==="package.json")){let r=it.resolve(t,"package.json");if((await $r.readFile(r,"utf8").then(i=>JSON.parse(i))).name!=="git-hook-tasks")return t}t=it.resolve(t,"..")}},"findProjectRoot");var Rr=s(t=>{let e=t.option(Vt);return async()=>{let r=K(e.value),n=await Z();r.setCwd(n),Pr(n,e.value),await r.run("husky","install"),await Promise.all([r.run("husky","add",".husky/pre-commit",await r.generateCommand("git-hook-tasks","pre-commit")),r.run("husky","add",".husky/pre-push",await r.generateCommand("git-hook-tasks","pre-push")),r.run("husky","add",".husky/post-commit",await r.generateCommand("git-hook-tasks","post-commit"))]),await Promise.all([F("git add .husky/pre-commit",{cwd:n}),F("git add .husky/pre-push",{cwd:n}),F("git add .husky/post-commit",{cwd:n})])}},"InstallCommand");var _n=G(ne());import is from"fs/promises";import On from"path";var he=G(ne()),bn=G(yn());var ht=`[${he.default.green("\u2713")}]`,gt=`[${he.default.red("\u2715")}]`,ts={".  ":".. ",".. ":"...","...":".  ",[ht]:ht,[gt]:gt},V=s((t,e)=>{let r=w.dynamicLine([".  ",t,`(${he.default.blue(e)})`]),n=setInterval(()=>{r.update(([l,c,u])=>[ts[l],c,u])},700);return{finishSuccess:s(()=>{clearInterval(n),r.update(([,l])=>[ht,l]),r.close()},"finishSuccess"),finishFailure:s(()=>{clearInterval(n),r.update(([,l,c])=>[gt,l,c?`(${he.default.red((0,bn.default)(c).slice(1,-1))})`:void 0]),r.close()},"finishFailure"),updateProgress:s(l=>{r.update(([c,u])=>[c,u,`(${he.default.blue(l)})`])},"updateProgress")}},"loadingLine");var vn=G(ne());var ge=s(()=>{w.staticLine([vn.default.greenBright(`
All git hook tasks finished successfully!
`)])},"onAllTasksSuccess");var wn=G(ne());var C=class extends Error{constructor(r,n=!1){super("Operation Error");this._isOperationError=!0;n||(w.staticLine([`
`]),w.staticLine([r]),w.staticLine([`
`]),w.staticLine([wn.default.redBright("Git hook task has failed. Exiting.")]))}static{s(this,"OperationError")}static isOperationError(r){return"_isOperationError"in r?r._isOperationError===!0:!1}},ie=class extends Error{constructor(r){super("Operation Error");this._isPostponedOperationError=!0;this.errorData=r}static{s(this,"PostponedOperationError")}static isPostponedOperationError(r){return"_isPostponedOperationError"in r?r._isPostponedOperationError===!0:!1}static print(r){w.staticLine([`
`]),w.staticLine([r.errorData]),w.staticLine([`
`])}};var bt=G(ne());import Ge from"path";var Pe=class t{constructor(){this.buffer=[]}static{s(this,"ConsoleInterceptor")}static{this.originals={log:console.log,error:console.error,info:console.info,warn:console.warn,debug:console.debug,clear:console.clear,table:console.table}}static restore(){console.clear=this.originals.clear,console.debug=this.originals.debug,console.error=this.originals.error,console.info=this.originals.info,console.log=this.originals.log,console.table=this.originals.table,console.warn=this.originals.warn}static intercept(){let e=new t;return console.clear=(...r)=>e.intercept("clear",r),console.debug=(...r)=>e.intercept("debug",r),console.error=(...r)=>e.intercept("error",r),console.info=(...r)=>e.intercept("info",r),console.log=(...r)=>e.intercept("log",r),console.table=(...r)=>e.intercept("table",r),console.warn=(...r)=>e.intercept("warn",r),e}intercept(e,r){this.buffer.push([e,r])}read(){return[...this.buffer]}};import yt from"fs/promises";import ns from"path";import rs from"fs/promises";async function Tn(t,e){try{let r=await rs.readdir(t,{withFileTypes:!0}),n=[],i=[];for(let o of r)o.isDirectory()?n.push(o):o.isFile()&&i.push(o);return[t,n,i]}catch(r){if(e)return[t,[],[]];throw r}}s(Tn,"readDir");async function*Ue(t,e={}){var r,n;(r=e.followSymlinks)!=null||(e.followSymlinks=!1),(n=e.ignoreErrors)!=null||(e.ignoreErrors=!1);let i=await Tn(t,e.ignoreErrors);yield i;let[o,a]=i;for(let l of a){if(!e.followSymlinks&&l.isSymbolicLink())continue;let c=ns.resolve(o,l.name);for await(let u of Ue(c,e))yield u}}s(Ue,"walk");import se from"path";var En=s(async(t,e,r)=>{let n=se.parse(r),i=se.resolve(e,"node_modules/.cache/git-hook-tasks",n.name);await yt.mkdir(i,{recursive:!0}),await t.run("tsc",r,"-m","commonjs","--noImplicitUseStrict","--esModuleInterop","--skipLibCheck","--allowJs","--incremental","--tsBuildInfoFile",se.join(i,"tsbuildinfo"),"--outDir",i);for await(let[o,a,l]of Ue(i))for(let c of l)if(se.extname(c.name)===".js"){let u=se.join(o,c.name),d=se.dirname(u).replace(i,n.dir),m=await yt.readFile(u,{encoding:"utf-8"});m.startsWith("__dirname =")?m=m.replace(/^__dirname\s=\s.+?;/,`__dirname = ${JSON.stringify({path:d})}.path;`):m=`__dirname = ${JSON.stringify({path:d})}.path;
`+m,await yt.writeFile(u,m,{encoding:"utf-8"})}return se.join(i,n.name+".js")},"prepareTsFile");var Se=s(async(t,e,r,n=o=>{},i=w)=>{let o=Ge.extname(r);if(n("identifying file type"),![".js",".jsx",".ts",".tsx"].includes(o))throw new Error(`Unsupported script file type: ${r}
Script must be a JavaScript file.`);let a=[".ts",".tsx"].includes(o);a&&n("transpiling to js");let l=a?await En(t,e,Ge.resolve(e,r)):Ge.resolve(e,r),c=Pe.intercept();try{n("loading script");let u=Ae(l);return n("executing"),"default"in u&&typeof u.default=="function"&&await u.default(n),null}catch(u){for(let[d,m]of c.read()){let h=d==="error"?bt.default.redBright:d==="warn"?bt.default.yellow:b=>b;switch(d){case"clear":break;default:i.staticLine([Ge.parse(r).name+":",...m.map(b=>h(b.toString()))]," ")}}return u}finally{Pe.restore()}},"runScriptTask");var xn=s(()=>w.staticLine([_n.default.green(`
Running Git Hook Tasks
`)]),"onTaskStart"),ye=s(async(t,e,r,n)=>{if(r.hooks){let i=r.hooks[n];if(i)if(typeof i=="string"){xn();let o=await is.readdir(i);for(let a of o){let l=V(On.basename(a),"starting"),c=await Se(t,e,On.resolve(e,i,a),l.updateProgress);if(!c)l.finishSuccess();else throw l.finishFailure(),new C(c.message)}ge()}else{i.length>0&&xn();for(let o of i)if("script"in o){let a=V(o.name,"running script");try{await t.run(...o.script.split(" ")),a.finishSuccess()}catch(l){throw a.finishFailure(),new C(l.message)}}else{let a=V(o.name,"starting"),l=await Se(t,e,o.taskFile,a.updateProgress);if(!l)a.finishSuccess();else throw a.finishFailure(),new C(l.message)}i.length>0&&ge()}}},"executeHooks");var be=s(async t=>{process.stdout.write("\x1B[?25l"),process.on("exit",function(){process.stdout.write("\x1B[?25h")}),process.on("SIGINT",async function(){process.exit(1)});try{await t()}catch(e){e instanceof Error&&C.isOperationError(e)||new C(`${e.message}`),await new Promise(r=>setTimeout(r,1e3)),process.exit(1)}},"runTasks");var Mn=G(Pn()),Tt=G(ne());import ls from"fs/promises";import cs from"os";import Sn from"path";import{Worker as os}from"node:worker_threads";import as from"path";var ke=s((t,e)=>["message",r=>{typeof r=="object"&&r!==null&&"topic"in r&&r.topic===t&&e(r.payload)}],"createListener");var wt=s((t,e,r,n)=>new Promise((i,o)=>{let a=new os(as.resolve(__dirname,"./task.worker.js"),{workerData:{cwd:e,scriptPath:r,packageManager:t.label}}),l=V(n,"starting"),c=s(u=>{a.removeAllListeners(),a.terminate(),u?l.finishSuccess():l.finishFailure()},"close");a.addListener(...ke("newLine",({content:u,separator:d})=>{w.staticLine(u,d)})),a.addListener(...ke("progress",u=>{l.updateProgress(u)})),a.addListener("error",u=>{c(!1),o(u)}),a.addListener(...ke("finishFailure",u=>{c(!1),o(new ie(u.message))})),a.addListener(...ke("finishSuccess",()=>{c(!0),i()}))}),"runTaskWorker");var kn=s(()=>w.staticLine([Tt.default.green(`
Running Git Hook Tasks
`)]),"onTaskStart"),ve=s(async(t,e,r,n)=>{if(r.hooks){let i=r.hooks[n];if(i){let o=new Mn.Queue(r.parallelPoolSize??Math.max(1,cs.cpus().length-1)),a=[],l=s(()=>{for(let c of a)ie.isPostponedOperationError(c)?ie.print(c):new C(`${c.message}`);throw w.staticLine([Tt.default.redBright("Some Git hook tasks have failed. Exiting.")]),new C("",!0)},"processErrors");if(typeof i=="string"){kn();let c=await ls.readdir(i);for(let u of c){let d=Sn.basename(u);o.run(()=>wt(t,e,Sn.resolve(e,i,u),d).catch(m=>{a.push(m)}))}if(await o.flush(),a.length===0)ge();else return l()}else{let c=[];i.length>0&&kn();for(let u of i)if("script"in u){if(u.mustRunAlone){c.push(async()=>{let d=V(u.name,"running script");try{await t.run(...u.script.split(" ")),d.finishSuccess()}catch(m){throw d.finishFailure(),new C(m.message)}});continue}o.run(()=>{let d=V(u.name,"running script");return t.run(...u.script.split(" ")).then(()=>{d.finishSuccess()}).catch(m=>{d.finishFailure(),a.push(m)})})}else{if(u.mustRunAlone){c.push(async()=>{let d=V(u.name,"starting"),m=await Se(t,e,u.taskFile,d.updateProgress);if(!m)d.finishSuccess();else throw d.finishFailure(),new C(m.message)});continue}o.run(()=>wt(t,e,u.taskFile,u.name).catch(d=>{a.push(d)}))}if(await o.flush(),a.length>0)return l();for(let u of c)await u();i.length>0&&ge()}}}},"executeHooksInParallel");var An=s(()=>async()=>{await be(async()=>{let t=await Z(),e=await le(t),r=K(e.packageManager);r.setCwd(t),e.parallel===!0||typeof e.parallel=="object"&&e.parallel["post-commit"]===!0?await ve(r,t,e,"post-commit"):await ye(r,t,e,"post-commit")})},"PostCommitCommand");var Cn=s(t=>async()=>{await be(async()=>{let e=await Z(),r=await le(e),n=K(r.packageManager);n.setCwd(e),r.parallel===!0||typeof r.parallel=="object"&&r.parallel["pre-commit"]===!0?await ve(n,e,r,"pre-commit"):await ye(n,e,r,"pre-commit")})},"PreCommitCommand");var $n=s(()=>async()=>{await be(async()=>{let t=await Z(),e=await le(t),r=K(e.packageManager);r.setCwd(t),e.parallel===!0||typeof e.parallel=="object"&&e.parallel["pre-push"]===!0?await ve(r,t,e,"pre-push"):await ye(r,t,e,"pre-push")})},"PrePushCommand");Dt.configure(t=>{w.setMaxFps(2.86),t.setName("git-hook-tasks"),t.setDescription("A runner for git hooks with support for parallel tasks."),t.command("install",Rr),t.command("pre-commit",Cn),t.command("pre-push",$n),t.command("post-commit",An)}).run();
